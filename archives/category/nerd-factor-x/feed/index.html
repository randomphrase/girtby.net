<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>girtby.net &#187; Nerd Factor X</title>
	<atom:link href="http://girtby.net/archives/category/nerd-factor-x/feed/" rel="self" type="application/rss+xml" />
	<link>http://girtby.net</link>
	<description>this blog is girtby.net</description>
	<lastBuildDate>Thu, 17 Sep 2009 14:27:44 +0000</lastBuildDate>
	<generator>http://wordpress.org/?v=2.9-rare</generator>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
			<item>
		<title>Archiving Tweets</title>
		<link>http://girtby.net/archives/2009/08/23/archiving-tweets/</link>
		<comments>http://girtby.net/archives/2009/08/23/archiving-tweets/#comments</comments>
		<pubDate>Sun, 23 Aug 2009 12:14:05 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[archive]]></category>
		<category><![CDATA[backup]]></category>
		<category><![CDATA[twitter]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3905</guid>
		<description><![CDATA[If you&#8217;ve run Damon Cortesi&#8217;s handy curl command to download all (or the last 3200) tweets from your twitter account, you&#8217;ll have a directory full of files with names like user_timeline.xml?count=100&#38;page=1. Not only that but they include a large amount of redundant profile stuff in the &#60;user&#62; element. And not only that, but twitter sometimes [...]]]></description>
			<content:encoded><![CDATA[<p>If you&#8217;ve run <a href="http://dcortesi.com/2009/07/16/for-wil-wheaton/">Damon Cortesi&#8217;s handy curl command</a> to download all (or the last 3200) tweets from your twitter account, you&#8217;ll have a directory full of files with names like <code>user_timeline.xml?count=100&amp;page=1</code>. Not only that but they include a large amount of redundant profile stuff in the <code>&lt;user&gt;</code> element. And not only <em>that</em>, but twitter sometimes returns a &#8220;Twitter is over capacity&#8221; page instead of your tweets.</p>

<p>What we want to do is a) detect any files which don&#8217;t contain tweets, b) remove the redundant user profile, and c) combine the results into a single file.</p>

<p>Well, friends, here is a shell script to do exactly that. You&#8217;ll need zsh and xsltproc, both of which are standard on MacOS X and most sane Linuxen.</p>

<div class="aside"><p>zsh is needed to sort the input files in numeric, as opposed to lexicographic, order. If you know of a way to do this in bash, let me know&#8230;</p></div>

<p>Output is on stdout, so just redirect to your filename of choice:</p>

<pre><code>$ tweetcombine user_timeline.xml\?count=100\&amp;page=* \
    &gt; tweet_archive.xml
</code></pre>

<p><span id="more-3905"></span>Here&#8217;s the script:</p>

<pre><code>#!/bin/zsh

# Combine all of the twitter user_timeline.xml files specified on the command line into a single output
# Written by Alastair Rankine, http://girtby.net
# Licensed as Creative Commons BY-SA

input_args=()
for f in ${(on)*}; do
    [[ -f $f ]] || exit "Not a file: $f"
    input_args+="&lt;input&gt;${f//&amp;/&amp;amp;}&lt;/input&gt;"
done

xsltproc - &lt;&lt;EOF
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE inputs [
  &lt;!ATTLIST xsl:stylesheet id ID #REQUIRED&gt;
]&gt;
&lt;?xml-stylesheet type="text/xml" href="#style1"?&gt;
&lt;inputs&gt;
  ${input_args}

  &lt;xsl:stylesheet id="style1" version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;

    &lt;xsl:output type="xml" indent="yes"/&gt;

    &lt;xsl:template match="*"&gt;
      &lt;xsl:copy&gt;
        &lt;xsl:copy-of select="@*"/&gt;
        &lt;xsl:apply-templates/&gt;
      &lt;/xsl:copy&gt;
    &lt;/xsl:template&gt;

    &lt;xsl:template match="statuses"&gt;
      &lt;xsl:apply-templates/&gt;
    &lt;/xsl:template&gt;

    &lt;xsl:template match="user"/&gt;

    &lt;xsl:template match="xsl:stylesheet"/&gt;

    &lt;xsl:template match="input"&gt;
      &lt;xsl:choose&gt;
        &lt;xsl:when test="document(.)/statuses"&gt;
          &lt;xsl:apply-templates select="document(.)"/&gt;
        &lt;/xsl:when&gt;
        &lt;xsl:otherwise&gt;
          &lt;xsl:message terminate="yes"&gt;&lt;xsl:value-of select="."/&gt; does not contain statuses element&lt;/xsl:message&gt;
        &lt;/xsl:otherwise&gt;
      &lt;/xsl:choose&gt;
    &lt;/xsl:template&gt;

    &lt;xsl:template match="inputs"&gt;
      &lt;statuses type="array"&gt;
        &lt;xsl:apply-templates/&gt;
      &lt;/statuses&gt;
    &lt;/xsl:template&gt;

  &lt;/xsl:stylesheet&gt;
&lt;/inputs&gt;
EOF
</code></pre>

<p>I think this method of sticking filename arguments into an XSL document with an embedded stylesheet is quite a powerful way of processing XML documents with shell scripts. (Probably should put the <code>&lt;input&gt;</code> tags into a separate namespace though&#8230;)</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/08/23/archiving-tweets/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>Sleeping Bloggy</title>
		<link>http://girtby.net/archives/2009/08/03/sleeping-bloggy/</link>
		<comments>http://girtby.net/archives/2009/08/03/sleeping-bloggy/#comments</comments>
		<pubDate>Mon, 03 Aug 2009 12:53:30 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[amazon s3]]></category>
		<category><![CDATA[google app engine]]></category>
		<category><![CDATA[hosting]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3900</guid>
		<description><![CDATA[It should be apparent to prettymuch anyone who reads this blog that I have lost the impetus to publish regularly. Although I still have many things to say to the internet, it seems to be getting harder and harder to find the time to put these things in a blog form that I&#8217;m happy with.

But [...]]]></description>
			<content:encoded><![CDATA[<p>It should be apparent to prettymuch anyone who reads this blog that I have lost the impetus to publish regularly. Although I still have many things to say to the internet, it seems to be getting harder and harder to find the time to put these things in a blog form that I&#8217;m happy with.</p>

<p>But I&#8217;m also not happy with the concept of just abandoning the blog, as so many others seem to do. I like the idea of putting it into hibernation, where it still can be linked to and indexed in search engines, but just not active.</p>

<p>So I&#8217;ve been working out how to do that. It&#8217;s not as easy as I expected. And, yes, worth blogging about&#8230;</p>

<p><span id="more-3900"></span></p>

<h4>&#8220;Will I Dream, Dave?&#8221;</h4>

<p>I thought I wanted something quite straightforward. Basically I was going to convert the site into static HTML by walking over it with <code>wget</code> or similar. Then find a host who could serve it up cheaply and reliably.</p>

<p>The cheap part was a requirement but also an expectation. I just thought that someone somewhere would give me some hosting space for static files that would charge about the same as my domain renewal each year. I&#8217;m not interested in paying much more than that because, well. I might as well just keep paying the hosting plan I&#8217;m on now, and keep the blog open.</p>

<p>I also wanted the new hosting to have cool URIs that don&#8217;t change. So if, for example, you&#8217;ve bookmarked my insightful not-to-be-missed 2007 post on <a href="/archives/2007/04/22/it-sure-is-feisty/">fixing Ubuntu 7.04 display problems</a>, you&#8217;ll be happy to hear that I intended to make sure it serves you the same long-obsolete advice for many decades to come.</p>

<p>And that&#8217;s the real trick. As I found out, keeping the URIs the same, is not as easy as it sounds.</p>

<h4>wordpress.com</h4>

<p>This was the first thing I tried. wordpress.com offers free-to-inexpensive hosting and, hey, I&#8217;m already running wordpress, so it should be a snap to switch over. I&#8217;d just run the blog as-is with comments disabled and it would be just like in hibernation.</p>

<p>But then I read the fine print, and found that I wasn&#8217;t going to be able to keep my current theme with its <a href="/archives/2008/12/28/great-designers-steal-and-so-do-i/#comment-2268">famous</a> hand-tuned aside formatting. Not ideal, but not a show-stopper either. Also, importing the images and other assets would require involvement from wordpress support. Bit of a pain, but liveable.</p>

<p>So as an experiment I started exporting from my blog and then importing to wordpress.com. How well did this work? Well, about as well as you can expect with software that is not designed to <a href="/archives/2008/12/29/software-that-goes-clunk/">go clunk</a>. Of course, there is no error message to determine what the problem was, nor even an obvious way to erase all the partially-imported content.</p>

<h4>Amazon S3</h4>

<p>Having resolved by this stage that I was going to convert it to a static site and host it somewhere, I soon came upon the idea of using Amazon&#8217;s S3 service. I already had an account, and it looked like a great solution. Cheap, reliable and easy. (Pick any two.)</p>

<p>There are (at least) two problems with using Amazon S3 for this task.</p>

<p>Firstly there is a technical limitation with hosting a &#8220;naked&#8221; domain (ie girtby.net with no hostname). Basically the way you create a <a href="http://docs.amazonwebservices.com/AmazonS3/latest/VirtualHosting.html">virtual host on S3</a> is to create a &#8220;bucket&#8221; with the same name as your host, and then create a CNAME from your domain to that bucketname.s3.amazonaws.com. The problem is that you cannot create a CNAME on the root of a domain, it has to be from a hostname within that domain (eg www.girtby.net will work, girtby.net will not).</p>

<p>So that instantly breaks my URIs, but even if I could solve that problem there&#8217;s another limitation. Basically Amazon S3 is not a full hosting environment and doesn&#8217;t provide some common web server features. Most notably it won&#8217;t serve up / using /index.html.</p>

<p>So I would end up needing my own web server which would perform this redirection. But that defeats the purpose of using Amazon S3; if I had access to a reliable web server, I&#8217;d just use that to serve up the site and be done with it.</p>

<h4>Google App Engine</h4>

<p>Yes, I was quite amazed to discover that you can use Google&#8217;s App Engine as a host for an entirely static site. This is an interesting possibility because not only is it a real hosting service, and I can develop software (maybe even a blogging engine!) to bring my site back to life, should I be so inclined.</p>

<p>The plan is almost perfect, but has one flaw. Although Google seem to have once had the ability to host from a naked domain, that ability now seems to have been <a href="http://code.google.com/appengine/kb/general.html#naked_domain">revoked</a>. Which is a bit unfortunate, as it breaks my URIs.</p>

<p>So that&#8217;s really a problem, and one that I must admit I did not forsee when I started using the naked domain as the preferred domain for the blog.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/08/03/sleeping-bloggy/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>At The End Of One&#8217;s Tether</title>
		<link>http://girtby.net/archives/2009/06/19/at-the-end-of-ones-tether/</link>
		<comments>http://girtby.net/archives/2009/06/19/at-the-end-of-ones-tether/#comments</comments>
		<pubDate>Fri, 19 Jun 2009 11:02:40 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[Provocation]]></category>
		<category><![CDATA[at&t]]></category>
		<category><![CDATA[iphone]]></category>
		<category><![CDATA[optus]]></category>
		<category><![CDATA[tethering]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3894</guid>
		<description><![CDATA[Many carriers, most notably AT&#38;T, but also others such as Optus, are getting a lot of bad press for charging their subscribers extra for &#8220;tethering&#8221; their iPhones to their laptops.

This does seem to be blatant gouging on their part, given that bytes are bytes, and regardless of whether they are destined for a phone or [...]]]></description>
			<content:encoded><![CDATA[<p>Many carriers, most notably AT&amp;T, but also others such as Optus, are getting a lot of bad press for charging their subscribers extra for &#8220;tethering&#8221; their iPhones to their laptops.</p>

<p>This does seem to be blatant gouging on their part, given that bytes are bytes, and regardless of whether they are destined for a phone or a tethered laptop, the cost is the same. This criticism is warranted in my opinion.</p>

<p>Carriers may claim that tethered laptops inevitably draw more traffic from individual subscribers. But I would suggest that the incremental traffic from a tethered laptop is a <em>lot</em> lower for the iPhone than for other 3G phones. Let&#8217;s face it, the iPhone is a pretty capable standalone device, and you&#8217;ll rarely need to break out the laptop to get online. Other phones are <em>far</em> inferior at browsing the net directly, and so I&#8217;d expect that there is a correspondingly larger proportion of traffic from tethered laptops of subscribers with these phones. This makes the additional pricing seem even more unfair.</p>

<p>But not all of the hate should be directed towards the carriers.</p>

<p>I am yet to see an answer to this question: how do the carriers know which traffic originates from the iPhone itself and which from a tethered laptop? I don&#8217;t know the answer definitively but I the iPhone must mark the tethered traffic somehow. I&#8217;m guessing that it must pass through the PPP session from the laptop, instead of terminating it in the phone and NATting the traffic.</p>

<p>Regardless, it is Apple that deserves at least some of the blame here for <em>enabling</em> the carriers to detect traffic in the first place. I know of no technical reason why they needed to do this; it sounds like a purely business decision. And one they didn&#8217;t need to make; surely the carriers are all Apple&#8217;s bitches at this point?</p>

<p>Boo, carriers who charge for tethering. Boo, Apple.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/06/19/at-the-end-of-ones-tether/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Easiest $100 I&#8217;ll Ever Make</title>
		<link>http://girtby.net/archives/2009/06/13/easiest-100-ill-ever-make/</link>
		<comments>http://girtby.net/archives/2009/06/13/easiest-100-ill-ever-make/#comments</comments>
		<pubDate>Sat, 13 Jun 2009 11:56:31 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[Provocation]]></category>
		<category><![CDATA[c++]]></category>
		<category><![CDATA[monty hall]]></category>
		<category><![CDATA[puzzle]]></category>
		<category><![CDATA[wager]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3890</guid>
		<description><![CDATA[Recently, before boarding a flight up to Hamilton Island for a $WORK junket conference, I purchased a puzzle book. On the flight, I shared the puzzles amongst colleagues, and fun was had. One particularly tricky puzzle confounded us all, although I recognised it as a variant of the Monty Hall problem. Alarm bells should be [...]]]></description>
			<content:encoded><![CDATA[<p>Recently, before boarding a flight up to Hamilton Island for a $WORK <del>junket</del> conference, I purchased a puzzle book. On the flight, I shared the puzzles amongst colleagues, and fun was had. One particularly tricky puzzle confounded us all, although I recognised it as a variant of the <a href="http://en.wikipedia.org/wiki/Monty_Hall_problem">Monty Hall problem</a>. Alarm bells should be going off at this point for those who have debated the subject in the past&#8230;</p>

<p>Anyway, one colleague didn&#8217;t believe that the answer in the back of the book was correct, and he offered to bet that by running a computer simulation he could prove the book (and me) wrong. I&#8217;m not a betting person, but for some reason, possibly euphoria at the prospect of the upcoming <del>partying</del> seminars, I immediately accepted his bet, wagering $100.</p>

<p>What follows is my attempt to win that bet.</p>

<p><span id="more-3890"></span></p>

<p>So that there is no argument, I&#8217;ll reproduce the exact wording of the problem as stated in the puzzle book:</p>

<blockquote>
  <p><strong>90.</strong> Four different pieces of candy are placed in a bag. One is chocolate, one is caramel, and two are licorice. Without looking in the bag, I draw two pieces of candy from it, and place one of them, which is licorice, on a table.</p>
  
  <p>What are the chances that the second piece of candy I have in my hand is the other piece of licorice candy?</p>
</blockquote>

<p>My colleague said the answer is ⅓, simply because the candy in the hand can only be one of three other candies still unseen. Of course this is a classic Monty Hall conditional probability problem, and he is quite wrong.</p>

<p>The key insight to this puzzle is that when I (as the person stating the puzzle) am putting the piece of candy on the table I am <em>selecting</em> it. Just as Monty does when he picks the door with the goat. There&#8217;s no element of randomness.</p>

<p>So the correct way to assess the probability is to think about the possible combinations of candies in your hand. There are six: the chocolate and caramel, caramel and either licorice, chocolate and either licorice, and the two licorice. Now we know that one of these combinations, the chocolate and caramel, is not possible. There are five remaining possibilities, and one of these is the one we want. Hence the odds are ⅕.</p>

<p>Anyway the agreed method of settling the bet was to write a computer simulation, so I did just that. Here is the output of a sample run:</p>

<pre><code>Out of 1000000 tries, two licorices were extracted 200432 times.
Estimated probability = 0.200432
</code></pre>

<p>We have a winner. Thanks JT, cash will be fine.</p>

<p>Here is the C++ code:</p>

<pre><code>#include &lt;stdlib.h&gt;
#include &lt;algorithm&gt;
#include &lt;iostream&gt;
#include &lt;tr1/array&gt;

const long iterations = 1000000;

enum candy {
    chocolate,
    caramel,
    licorice
};

int main(int argc, char *argv[])
{
    ::srand(::time(NULL));

    // Number of times we've pulled out two licorice from the bag
    long two_licorice = 0;

    for(long i = 0; i &lt; iterations;)
    {
        // put the candies in the bag
        std::tr1::array&lt;candy, 4&gt; bag = {{ chocolate, caramel, licorice, licorice }};

        // shuffle them
        std::random_shuffle(bag.begin(), bag.end());

        // pull out two
        std::tr1::array&lt;candy, 2&gt; hand = {{ bag[0], bag[1] }};

        // At least one of the candies we pick out must be a licorice otherwise it doesn't count.
        if (hand[0] != licorice &amp;&amp; hand[1] != licorice)
            continue;

        // Count if we've got both licorice
        if (hand[0] == licorice &amp;&amp; hand[1] == licorice)
            ++two_licorice;

        ++i;
    }

    std::cout &lt;&lt; "Out of " &lt;&lt; iterations
              &lt;&lt; " tries, two licorices were extracted " &lt;&lt; two_licorice &lt;&lt; " times.\n"
              &lt;&lt; "Estimated probability = "
              &lt;&lt; static_cast&lt;double&gt;(two_licorice) / static_cast&lt;double&gt;(iterations)
              &lt;&lt; std::endl;

    return 0;
}
</code></pre>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/06/13/easiest-100-ill-ever-make/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>Staging Wordpress With Bazaar</title>
		<link>http://girtby.net/archives/2009/02/24/staging-wordpress-with-bazaar/</link>
		<comments>http://girtby.net/archives/2009/02/24/staging-wordpress-with-bazaar/#comments</comments>
		<pubDate>Tue, 24 Feb 2009 11:03:18 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[bzr]]></category>
		<category><![CDATA[vcs]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3851</guid>
		<description><![CDATA[Version Control Systems, I&#8217;ve had a few. But then again, too few to mention.

Keen observers will have noted that I have tended to blog each time I try out a new version control system, and this really isn&#8217;t an exception. Except that, well I&#8217;m not just trying it out, I actually use Bazaar daily at [...]]]></description>
			<content:encoded><![CDATA[<p>Version Control Systems, I&#8217;ve had a few. But then again, too few to mention.</p>

<p>Keen observers will have noted that I have tended to blog each time I try out a new version control system, and this really isn&#8217;t an exception. Except that, well I&#8217;m not just trying it out, I actually use <a href="http://bazaar-vcs.org/">Bazaar</a> daily at <code>$WORK</code>, so and this is like after-hours practice.</p>

<p>Anyway, I wanted to share this because I&#8217;ve found that maintaining a staging and production installation of wordpress, complete with custom modifications and a collection of plugins, is a problem ideally solved by a distributed source control. Plus I really like Bazaar, and wanted to show how easy it can be.</p>

<p><span id="more-3851"></span></p>

<p>I refer to two different machines here, one of which is the production server (ie my hosting provider), and one of which is the staging server (ie my personal machine). Don&#8217;t let the fancy terminology put you off; mentally substitute &#8220;my box&#8221; and &#8220;their box&#8221; if it helps you.</p>

<h4>Setting up a Local Wordpress Instance</h4>

<p>On my staging server I branched the wordpress source from <a href="https://code.launchpad.net/wordpress">launchpad&#8217;s</a> Wordpress repository, which is regularly synced with the official repository:</p>

<pre><code>[s] $ bzr branch lp:wordpress
</code></pre>

<p>[I'll use an <code>[s]</code> to denote commands run on a staging server, and <code>[p]</code> for commands run on the production server.]</p>

<p>This command creates a "working tree" of the wordpress source code &mdash; a set of files and directories &mdash; and an accompanying repository of revisions. At any time the working tree corresponds to one of the revisions in the repository, plus any uncommitted changes. Each commit creates a new revision in the repository. Pretty standard stuff really.</p>

<p>So for a new wordpress installation I add the wp-config.php file and commit it:</p>

<pre><code>[s] $ bzr add wp-config.php
[s] $ bzr commit -m "Added config file"
</code></pre>

<p>See the <a href="http://codex.wordpress.org/MacOS_X_Local_Mirror">codex</a> for other local setup instructions, I just want to focus on the source control tool for now.</p>

<p>Unless you've used distributed version control systems before, you might be a bit wary at this point, perhaps wondering what happens when I next communicate with the upstream repository. But fear not, this is exactly the point of a DVCS. I've created an independent branch, and the parent branch doesn't even need to know about mine. So, I can quite happily make changes of my own and also merge in upstream changes, knowing that it is all tracked correctly.</p>

<p>But for now let's look at going the other way: publishing my changes to the world.</p>

<h4>Uploading to the Production Server</h4>

<p>One of the cool things about Bazaar is that it supports many different protocols for publishing branches. So for example, I can just push my branch to the hosting server using sftp:</p>

<pre><code>[s] $ bzr push sftp://girtby.net/home/alastair/wordpress
</code></pre>

<p>This will create a repository on the remote server containing all the revisions in my local repository. It will not, however, create an associated working tree. Bazaar does not (yet?) support updating a working tree over sftp. I guess there are too many potential issues with local conflicts and such. Anyway the solution is to ssh into the production box and do a checkout of the published branch:</p>

<pre><code>[p] $ cd ~/wordpress
[p] $ bzr co .
</code></pre>

<p>What's that? You don't have Bazaar installed on your hosting provider? No problem - all you need is python. Just extract Bazaar into your home directory somewhere, add the bin directory to your path, and you're away. You don't even need to compile anything.</p>

<p>Of course there are many other tasks to set up a production wordpress, but again let's just focus on getting a Bazaar branch associated with the source files.</p>

<h4>Another Way</h4>

<p>Of course you could bootstrap everything the other way around. Start with a working wordpress installation on your production server, create a bazaar repository for it, then copy <em>that</em> to your local machine. This would be something like:</p>

<pre><code>[p] $ cd ~/wordpress
[p] $ bzr init .
[p] $ bzr add .
[... bzr rm --keep or bzr ignore the files you don't want ...]
[p] $ bzr commit -m "initial checkin"
</code></pre>

<p>You would then branch it locally using:</p>

<pre><code>[s] $ bzr branch sftp://server/path/to/wordpress
</code></pre>

<h4>Staying in Sync</h4>

<p>At this point you have two Bazaar branches, and they can easily be kept in sync as follows. First let's make sure we're running the latest wordpress on our staging server:</p>

<pre><code>[s] $ bzr merge lp:wordpress
</code></pre>

<p>This just says to merge the latest changes from upstream. As always with merging there is the possibility of a conflict; you make a change that conflicts with the change on the merge source. In general Bazaar is very good at handling these, and anyway you're very unlikely to encounter them unless you're making modifications to the Wordpress core.</p>

<p>At this stage it's a great idea to test the installation locally. Hypothetically, if there were any <a href="/archives/2008/12/29/software-that-goes-clunk/">unit tests</a>, you'd run them at this point. Otherwise, you can just check that the articles display properly, the admin interface works, and whatever else.</p>

<p>You can even see a summary of the changes that you're merging:</p>

<pre><code>[s] $ bzr status -v
modified:
  wp-admin/admin-ajax.php
  wp-admin/custom-header.php
  [... snip ...]
pending merges:
  westi 2009-02-22 Focus on the first blank field when asking for credentials for upgrade/instal...
    ryan 2009-02-22 Allow editing all of a plugin's files. see #6732
    westi 2009-02-22 Wrap the apply_filters call in a function_exists check as this can be calle...
    [... snip ...]
</code></pre>

<p>If everything looks OK, commit and push it up to the production server.</p>

<pre><code>[s] $ bzr commit -m "merge from upstream"
[s] $ bzr push
</code></pre>

<p>It should have remembered the push location from last time. Also, just like last time the working tree will need to be updated:</p>

<pre><code>[p] $ bzr up
</code></pre>

<h4>Eject! Eject!</h4>

<p>So I've found wordpress trunk to be fairly stable, but should I ever need it, the DVCS provides a safety net.</p>

<p>If I discover a problem after merging in the latest upstream changes, I can quickly revert simply using the entirely surprising:</p>

<pre><code>[p] $ bzr revert
</code></pre>

<p>If, on the other hand I only discover the problem after pushing up to the production server, it's still quite easy:</p>

<pre><code>[p] $ bzr uncommit
[p] $ bzr update
</code></pre>

<p>I can propagate that change back to my staging server by merging <em>back</em>:</p>

<pre><code>[s] $ bzr merge sftp://girtby.net/home/alastair/wordpress
</code></pre>

<p>But like I said, I haven't had to use this.</p>

<h4>Synchronising Media</h4>

<p>Changes made on the production server are generally easy to sync back to the staging server - I just download a database dump and import it locally. However media such as images are special because they are not stored in the database. Hence you need a way of getting them back to the staging server. I wonder what the answer could be?</p>

<p>Yep, just commit the changes on the production server and merge them back:</p>

<pre><code>[p] $ bzr add assets/2009/01/funny_picture.jpg
[p] $ bzr commit -m "Added funny picture"

[s] $ bzr merge sftp://girtby.net/home/alastair/wordpress
</code></pre>

<p>As noted before, the add command can recursively add all files in a directory, so you don't even need to specify the files individually.</p>

<h4>Plugins/Themes</h4>

<p>Plugins and themes are handled just like any other change. Just extract the plugin to the relevant directory, and add it to the repository:</p>

<pre><code>[s] $ unzip ~/Downloads/coolplugin.zip
[s] $ bzr add coolplugin
</code></pre>

<p>At this point I'd probably activate and test the plugin locally, then commit and push to the production server as before.</p>

<p>Bazaar can also track file renames, deletions and moves, but you obviously have to tell it about them. So when coolplugin is updated, be sure to tell Bazaar about any relevant changes before committing:</p>

<pre><code>[s] $ bzr mv --after coolplugin/oldandbroken.php coolplugin/newhotness.php
</code></pre>

<p>The <code>--after</code> switch tells Bazaar not to actually do the move, instead it's already happened and we're just recording the fact.</p>

<h4>Why Not...</h4>

<p>... Wordpress auto-update? Put simply, I don't trust it. Will it let me manage my own patches to wordpress should they be <a href="/archives/2008/12/01/and-were-back/#comment-1946">needed</a>? I don't think so. Also: FTP? What decade is this? Even FTPS, sheesh.</p>

<p>... git? Well no reason particularly. I've dabbled with git, but it never really <em>clicked</em> for me. The concepts and terminology and command set still seem slightly obscure to me: "Want to check in your changes? Just use 'git albatross'! Want to view checkin comments from the most recent merge? No problem, 'git ham-sandwich' is at your fingertips!" OK, I exaggerate a little.</p>

<p>... just shut up already? Oh, OK then.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/02/24/staging-wordpress-with-bazaar/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>A Kamikaze That Doesn&#8217;t Crash And Burn</title>
		<link>http://girtby.net/archives/2009/02/01/a-kamikaze-that-doesnt-crash-and-burn/</link>
		<comments>http://girtby.net/archives/2009/02/01/a-kamikaze-that-doesnt-crash-and-burn/#comments</comments>
		<pubDate>Sun, 01 Feb 2009 10:30:43 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Linkpimpin']]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[linux]]></category>
		<category><![CDATA[openwrt]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3783</guid>
		<description><![CDATA[Long-time readers will know that I&#8217;m a big fan of the OpenWrt linux distribution for home routers.

It&#8217;s a great little linux distribution that lets you do all sorts of geeky networky things, and is damn reliable to boot. I was a bit nervous about the upgrade from the (now) ancient White Russian release, to the [...]]]></description>
			<content:encoded><![CDATA[<p><a href="/assets/2009/02/openwrt-kamikaze.png"><img src="http://girtby.net/assets/2009/02/openwrt-kamikaze-300x191.png" alt="Screenshot from OpenWrt&#039;s administration web interface" title="openwrt-kamikaze" width="300" height="191" class="size-medium wp-image-3784 lede" /></a>Long-time readers will know that I&#8217;m a <a href="/archives/2005/06/19/can-your-router-do-this/">big</a> <a href="/archives/2005/11/21/full-throttle-openwrt/">fan</a> of the <a href="http://openwrt.org/">OpenWrt</a> linux distribution for home routers.</p>

<p>It&#8217;s a great little linux distribution that lets you do all sorts of geeky networky things, and is damn reliable to boot. I was a bit <a href="http://identi.ca/notice/2063594">nervous</a> about the upgrade from the (now) ancient White Russian release, to the new Kamikaze 8.09_RC2 release, but it all went very smoothly.</p>

<p>If you&#8217;ve shied away from OpenWrt in the past because of it&#8217;s depencency on command-line installation, well shy no more. OpenWrt now includes an excellent web interface called LuCI, which makes admin very simple. Here it is, showing off real-time network statistics, available via a plugin module.</p>

<div class="aside"><p>That big traffic surge? A Mac OS system update. As I was taking the screenshot it kicked off in the background unexpectedly.</p></div>

<p>Modules such as these are the main reason for installing a Linux distro on your router. Different routing modules, statistics and monitoring, security, QoS, application layer proxies, and many more, some with LuCI web interfaces. In short, there&#8217;s lots to explore if you&#8217;re at all a network geek (I am).</p>

<p>Although OpenWrt was originally written for the infamous Linksys WRT54, but now available for lots of other routers. Perhaps it is supported on the router you&#8217;re using <em>right now</em>!? Why not <a href="http://wiki.openwrt.org/TableOfHardware">go check</a>?</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/02/01/a-kamikaze-that-doesnt-crash-and-burn/feed/</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>They Don&#8217;t Call it Hardware for Nothing</title>
		<link>http://girtby.net/archives/2009/01/11/they-dont-call-it-hardware-for-nothing/</link>
		<comments>http://girtby.net/archives/2009/01/11/they-dont-call-it-hardware-for-nothing/#comments</comments>
		<pubDate>Sun, 11 Jan 2009 06:53:18 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[electronics]]></category>
		<category><![CDATA[hardware]]></category>
		<category><![CDATA[kit]]></category>
		<category><![CDATA[nintendo]]></category>
		<category><![CDATA[repair]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3680</guid>
		<description><![CDATA[Sometimes you blog because you&#8217;ve accomplished something. Sometimes you blog because you just want to salvage something from failure. Today I&#8217;m going to do both! Yes, hardware is involved.



Nintendo DS Case Swap

A while ago I sat down with some unusual tools and my failing eyesight to rescue a Nintendo DS that had suffered an Act [...]]]></description>
			<content:encoded><![CDATA[<p>Sometimes you blog because you&#8217;ve <a href="/archives/2008/12/14/becoming-a-bronzed-aussie/">accomplished something</a>. Sometimes you blog because you just want to salvage something from <a href="/archives/2006/05/27/negative-result-bias/">failure</a>. Today I&#8217;m going to do both! Yes, hardware is involved.</p>

<p><span id="more-3680"></span></p>

<h4>Nintendo DS Case Swap</h4>

<p>A while ago I sat down with some unusual tools and my failing eyesight to rescue a Nintendo DS that had suffered an Act Of 5-year-old. It wasn&#8217;t too damaged, but the hinge area had cracked and so it had a tendency to fall apart. At the time I was expecting to pay around $200 for a replacement.</p>

<p>But then I discovered <a href="http://www.dealextreme.com/">DealExtreme</a>. Oh. My. Dog. That site is so awesome. It&#8217;s like a massive south-east Asian computer market but instead of all the cheap cool gadgets being strewn amongst a thousand tiny stalls, they are all catalogued, displayed online and available for purchase with <em>international shipping included</em>. Just amazing, have a browse.</p>

<div class="aside"><p>Whirlpool has a <a href="http://whirlpool.net.au/wiki/?tag=dealextreme">DealExtreme FAQ</a> on their wiki, highly recommended for Australian customers.</p></div>

<p>Anyway one of the things you can buy from DX is a <a href="http://www.dealextreme.com/details.dx/sku.7276">full replacement housing for a NDS</a> for $14.15. Sold!</p>

<p>It arrived a couple of weeks later (yes delivery is slow). I spent the afternoon swapping the old case for the new. Put briefly, you do <em>not</em> want to attempt this operation unless you really have to (or have rolled an 18 for dexterity).</p>

<p>The best instructions for Nintendo DS disassembly are available on <a href="http://www.flickr.com/photos/62647765@N00/sets/72157594277451148/">flickr</a>. I followed them closely and, for the most part, successfully.</p>

<p><p class="flickrTag_container"><a href="http://www.flickr.com/photos/12109162@N00/3186289559/" class="flickr"><img src="http://farm4.static.flickr.com/3337/3186289559_2b32b8ec41.jpg" alt="Array" class="flickr medium photo"  title="This is one of our Nintendo DSes at about the half-way stage during its case swap. This is where the fun starts! See the accompanying &lt;a href=&quot;http://girtby.net/archives/2009/01/11/they-dont-call-it-hardware-for-nothing/&quot;&gt;blog &lt;/a&gt;"/></a></p></p>

<p>Here is a shot I took just after removing the back cover. You can see the broken hinge &mdash; which I have completely removed &mdash; on the right. After this point things get very tricky. See that ribbon cable on the left? That joins the upper screen to the lower PCB and was a complete bitch to get out.</p>

<p>The new case fit very nicely and everything went quite smoothly during reassembly. The shoulder buttons were only exception to this; it took literally about an hour of fiddling to get them both in and working. In the picture above you can see the right shoulder button still in place, with a little metal hinge that fits into the case itself. Well, when reassembling the NDS you have to align both of the button hinges <em>and</em> both of the little springs (not visible above) that are needed so that when you release the button it doesn&#8217;t stay pressed.</p>

<p>In short, I stuffed up one of the springs. So now we have one button that needs to be pushed back out before it can be  pressed again. This is livable for most games. Otherwise, everything works perfectly, and has for the last few months. If we want to play a game with a lot of shoulder-button action (eg Mario Kart), we generally play it on the other, pristine, NDS.</p>

<h4>Clifford The Cricket</h4>

<p>Bouyed by the success of the NDS, the <a href="/archives/2008/05/04/building-an-alien/">Alien DAC</a>, and by a new-year enthusiasm for making stuff, I bought an electronics kit. The intention was to introduce electronics to the Jr. Girtbys and to re-introduce electronics to me.</p>

<p>This is a relatively simple project that was described in an old (1994) issue of <a href="http://siliconchip.com.au/">Silicon Chip</a>. The kits are available everywhere, I got mine from <a href="http://www.jaycar.com.au/productView.asp?ID=KC5178&amp;CATID=&amp;keywords=&amp;SPECIAL=&amp;form=KEYWORD&amp;ProdCodeOnly=yes&amp;Keyword1=KC&amp;Keyword2=KC&amp;pageNumber=&amp;priceMin=&amp;priceMax=&amp;SUBCATID=">Jaycar</a>.</p>

<p>It&#8217;s supposed to start chirping like a cricket when you turn out the lights. I don&#8217;t really understand how it works, but it&#8217;s something to do with a light-dependent resistor which increases voltage across an IC input. This apparently activates a little oscillator and that makes the noise.</p>

<p>Here is mine. It doesn&#8217;t work.</p>

<p><p class="flickrTag_container"><a href="http://www.flickr.com/photos/12109162@N00/3186287897/" class="flickr"><img src="http://farm4.static.flickr.com/3343/3186287897_55fb760a34.jpg" alt="Array" class="flickr medium photo"  title="An electronics kit that I attempted this weekend. It didn't work. See the accompanying &lt;a href=&quot;http://girtby.net/archives/2009/01/11/they-dont-call-it-hardware-for-nothing/&quot;&gt;blog article&lt;/a&gt;."/></a></p></p>

<p>I&#8217;ve checked, and re-checked, and re-re-checked the components, to ensure that everything is in the right place, and with the right polarity. I&#8217;ve also checked my soldering which, while pretty dodgy in places, does at least look to be basically functional.</p>

<div class="aside"><p>For future reference, diodes have the stripe on their cathode, <em>not</em> the anode. This is despite <a href="http://siliconchip.com.au/cms/A_104371/article.html">contradictory</a> <a href="http://siliconchip.com.au/cms/A_102711/article.html">advice</a> you might find on the internet.</p></div>

<p>I can get him to chirp by shorting various pins on the IC &#8211; which indicates that it is something to do with the logic parts of the circuit. Perhaps I&#8217;ve fried a transistor or something, I don&#8217;t know.</p>

<p>Troubleshooting tips appreciated.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/01/11/they-dont-call-it-hardware-for-nothing/feed/</wfw:commentRss>
		<slash:comments>11</slash:comments>
		</item>
		<item>
		<title>Monkeying With JavaScript</title>
		<link>http://girtby.net/archives/2009/01/07/monkeying-with-javascript/</link>
		<comments>http://girtby.net/archives/2009/01/07/monkeying-with-javascript/#comments</comments>
		<pubDate>Wed, 07 Jan 2009 11:31:12 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[jquery]]></category>
		<category><![CDATA[prototype]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3674</guid>
		<description><![CDATA[It&#8217;s funny really, one of my main reasons for switching to a Rails-based blogging platform way back when was to become more familiar with web technologies. As it turned out I never really did much of that, but since switching back to Wordpress I&#8217;ve been tinkering away madly, and astute observers may have noticed the [...]]]></description>
			<content:encoded><![CDATA[<p>It&#8217;s funny really, one of my main reasons for switching to a Rails-based blogging platform way back when was to become more familiar with web technologies. As it turned out I never really did much of that, but since switching back to Wordpress I&#8217;ve been tinkering away madly, and astute observers may have noticed the results on this site.</p>

<p>Of course I have no real idea what I am doing. Despite having zero knowledge of PHP or JavaScript, for some reason I feel no reluctance towards sitting down at a keyboard and bashing away until I produce either Macbeth or a better website. The entire site is stored in a <a href="http://bazaar-vcs.org/">Bazaar</a> repository, and that makes reverting bad changes especially easy, and I&#8217;ll attempt to blog further about that sometime.</p>

<p>For now let me just point out a seemingly small change to the site. The dates of the posts and comments are now displayed in a more human-friendly manner such as &#8220;3 days ago&#8221; or &#8220;20 minutes later&#8221;. This was a feature of Typo that I liked enough to port to my Mephisto theme, and which (I thought) would be fairly simple to get into Wordpress.</p>

<p>It wasn&#8217;t. Read on for the war story.</p>

<p><span id="more-3674"></span></p>

<h4>The Prototype Version</h4>

<p><a href="http://www.dev411.com/blog/2007/02/05/displaying-dates-and-times-using-javascript">John Wang</a> describes how it is implemented in Typo. Basically it&#8217;s a bit of JavaScript that is run when the page loads. It looks for dates, which are delimited by the <code>abbr</code> tag and have a pre-defined CSS class. The script iterates over each of these and converts them into a friendly date. The <code>abbr</code> tag is handy because it allows you to specify the full date and time in the <code>title</code> attribute, which you can see when you hover over the date with your mouse.</p>

<p>One of the challenges with using JavaScript in this way is to ensure that you register event handlers in a manner that works with other JavaScript on the page, as well as across browsers. The <a href="http://www.prototypejs.org/">Prototype</a> library helps out immensely here, and for actually locating the <code>abbr</code> tags.</p>

<p>One of the nice features of Wordpress is that it manages dependencies on third-party JavaScript libraries, on behalf of the plugins. So as long as your plugin/theme uses the <a href="http://codex.wordpress.org/Function_Reference/wp_enqueue_script"><code>wp_enqueue_script</code></a> function, Wordpress will find a copy of the requested library and insert your script correctly into the HTML output. You call it simply from the theme&#8217;s <code>functions.php</code> file like this:</p>

<pre><code>add_action( 'wp_print_scripts', 'depo_theme_add_javascript' );

function depo_theme_add_javascript() {
    wp_enqueue_script('friendly_dates', get_bloginfo('stylesheet_directory') .
        '/javascript/friendly_dates.js', array('jquery'));
}
</code></pre>

<p>So at this point, I had the friendly date script originally from Typo, registered correctly with Wordpress and, it worked. Sort of. Specifically: when I had some of my Wordpress plugins disabled.</p>

<h4>Prototype vs jQuery</h4>

<p>Besides Prototype there are also other JavaScript libraries that people use, and they don&#8217;t always play nicely together. For example, <a href="http://jquery.com/">jQuery</a> is quite popular, and seems to be used by at least two of the wordpress plugins I have installed. Which meant that I could use my date script or the plugins, but not both.</p>

<p>Now jQuery (at least) is supposed to play nice with other libraries if you use the <a href="http://docs.jquery.com/Using_jQuery_with_Other_Libraries"><code>noConflict</code></a> method. Unfortunately I couldn&#8217;t get it to work. I even resorted to asking my first <a href="http://stackoverflow.com/questions/415550/prototype-and-jquery-peaceful-co-existence">question on Stack Overflow</a>. This seemed to stump the experts too; the best answer was basically &#8220;switch to jQuery&#8221;.</p>

<p>So that&#8217;s what I did.</p>

<h4>The jQuery Version</h4>

<p>jQuery is a quite unusual library. It reminds me a little bit of XSLT, in that you declare a pattern of matching items in the DOM tree, and for each of those, some actions which affect the output. You might even say the similarity is quite ironic, given that XSLT is the browser&#8217;s <a href="/archives/2006/06/14/the-browsers-other-scripting-language/">other scripting language</a>.</p>

<p>By chance I came across <a href="http://www.zachleat.com/web/2008/03/23/yet-another-pretty-date-javascript/">yet another pretty date JavaScript</a> from Zach Leatherman (but with ancestry tracing back to jQuery author John Resig). This allowed me to perform the article date transformations almost trivially:</p>

<pre><code>jQuery(document).ready(function() {
    jQuery("abbr.published").humane_dates();
});
</code></pre>

<p>Nice. But what about the comment dates? These require two dates, both the comment date but also the date of the article to which it belongs. The former is easy enough, but there was no easy DOM path from the comment to its article meta data. If it was XSLT I could have come up with an XPath expression, but jQuery is unfortunately not that powerful (yet?).</p>

<p>So I settled for a bit of a hack. For each comment, I inserted the article date as a hidden field in the HTML as a sibling to the date <code>abbr</code>, where it can be easily retrieved by a jQuery method.</p>

<p>It&#8217;s not an ideal solution of course, and part of me wants to (at least) put the article date in a local cache variable where it doesn&#8217;t need to looked up all the time. But another part of me just wants to get it working so that I can start the process of blogging about how I got it working&#8230;</p>

<h4>Publish and Be Damned</h4>

<p>Anyway <a href="/extras/friendly_dates.js">here&#8217;s the code</a>. I&#8217;ll find a better place for it if I make any other mods, or if there is any interest in it.</p>

<h4>Lessons Learned</h4>

<p>I&#8217;m not even sure there are many here. Perhaps:</p>

<ul>
<li>Don&#8217;t mix JavaScript libraries.</li>
<li>Learn jQuery. It&#8217;s powerful.</li>
<li>C++ is easy compared to diagnosing JavaScript bugs (ok maybe not)</li>
</ul>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/01/07/monkeying-with-javascript/feed/</wfw:commentRss>
		<slash:comments>10</slash:comments>
		</item>
		<item>
		<title>Software That Goes Clunk</title>
		<link>http://girtby.net/archives/2008/12/29/software-that-goes-clunk/</link>
		<comments>http://girtby.net/archives/2008/12/29/software-that-goes-clunk/#comments</comments>
		<pubDate>Mon, 29 Dec 2008 08:35:54 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[quality]]></category>
		<category><![CDATA[software]]></category>
		<category><![CDATA[unit testing]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3658</guid>
		<description><![CDATA[In the world of the manufactured consumer item, there has long been a tradition of techniques which convey an impression of underlying quality to the prospective purchaser. For example, it is never going to hurt sales if you display the words &#8220;Made in Germany&#8221; prominently on your item&#8217;s packaging. And I&#8217;ve heard that disproportionate engineering [...]]]></description>
			<content:encoded><![CDATA[<p>In the world of the manufactured consumer item, there has long been a tradition of techniques which convey an impression of underlying quality to the prospective purchaser. For example, it is never going to hurt sales if you display the words &#8220;Made in Germany&#8221; prominently on your item&#8217;s packaging. And I&#8217;ve heard that disproportionate engineering resources are typically expended on a car&#8217;s doors, in order to get just the right &#8220;clunk&#8221; to impress potential customers on the showroom floor.</p>

<p><span id="more-3658"></span>The point is that you, as a mere user of the widget, can&#8217;t easily inspect its inner workings to determine the quality of engineering and manufacture, and nor do you typically have the expertise to do so. So you need to rely on the information provided by the vendor. Perhaps it plays on national stereotypes, on technobabble (hello, cosmetics industry!), luxurious packaging (hello, Apple!), or many other techniques.</p>

<p>With software &mdash; particularly web-hosted software &mdash; it is not so easy. An astute observer will examine the interface of the software in question and look for consistency to established standards, prevalence of modes, and so forth. A lay observer will go on aesthetics, and probably not much more.</p>

<p>As the market for software becomes more and more sophisticated, what are the indicators going to be for quality? &#8220;<a href="http://www.joelonsoftware.com/items/2007/10/05.html">Designed in California</a>&#8220;? Or are lay people going to look for some more substantive indicators?</p>

<p>I don&#8217;t know but I know what I&#8217;d really <em>like</em> it to be. And I know what I&#8217;ll be looking more and more closely for, in future.</p>

<h4>Made With Unit Testing</h4>

<p>Once you&#8217;ve gotten the unit testing religion there really is no going back. It fundamentally changes &mdash; for the better &mdash; the way that you write software.</p>

<p>It can also make you a lot more intolerant towards regression bugs. That&#8217;s my excuse anyway for my recent <a href="/archives/2008/12/01/and-were-back/#comment-1946">dummy spit</a> over wordpress&#8217; broken comments feed. This is exactly the sort of problem that unit testing can catch. So why wasn&#8217;t it? And what assurances do I have that it wont happen again? I am not a wordpress developer, and I don&#8217;t care to be one either, but as a <em>user</em> I want to have better confidence in the software I use.</p>

<p>By the way, the fact that I was running an unreleased version of wordpress when I encountered the feed validation bug, is completely beside the point. Regularly run unit tests ensure that even when trunk is broken, it doesn&#8217;t remain so for very long. As it turned out, the problem that I encountered <a href="http://trac.wordpress.org/ticket/8626"><em>did</em></a> make it into the 2.7 release of wordpress, before being addressed. (Although, as far as I&#8217;m concerned, the bug <em>still</em> isn&#8217;t fixed, because there&#8217;s no unit test to prevent it reoccurring).</p>

<p>Even if you don&#8217;t know anything about unit testing, you should be able to factor it into a technology decision. Software package A is unit tested, and B isn&#8217;t. Which do you pick, if all else is equal?</p>

<h4>Other Types Of Testing?</h4>

<p>It might be argued that other forms of testing are an acceptable substitute for unit testing. To which I would say: bullshit. Or perhaps I might say &#8220;you are mistaken&#8221;, in a more professional forum. Unit tests are by definition automated, and hence a lot more foolproof. Automated testing at higher levels of abstraction is of course possible, but from experience it is far less effective. And manual testing is just not fun.</p>

<p>Alternatively, it might be argued that a more comprehensive indicator of quality throughout the development process is an ISO 9000 accreditation. To which I say: you&#8217;ve got to be fucking kidding me. (And let&#8217;s defer that discussion to another time).</p>

<p>As an experiment, pick your favourite piece of open source software. Go to the website and work out how to run the unit tests. Check out the latest source code from the repository and see if the unit tests run as advertised. If the unit tests are broken, or (worse) missing, maybe you should start looking elsewhere?</p>

<p>As another experiment, pick your favourite piece of closed source software (if you have one). Ask the vendor whether they have a unit test suite, and if so, what percentage of the code does it cover. Again, depending on the response, you might want to think about switching&#8230;</p>

<p>&#8230; to software that goes &#8220;clunk&#8221;.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2008/12/29/software-that-goes-clunk/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>Great Designers Steal, And So Do I</title>
		<link>http://girtby.net/archives/2008/12/28/great-designers-steal-and-so-do-i/</link>
		<comments>http://girtby.net/archives/2008/12/28/great-designers-steal-and-so-do-i/#comments</comments>
		<pubDate>Sat, 27 Dec 2008 22:44:50 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[css]]></category>
		<category><![CDATA[layout]]></category>
		<category><![CDATA[theme]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3654</guid>
		<description><![CDATA[Welcome to the new girtby.net site design. If you&#8217;re in an aggregator, please feel free to head on over to a browser and admire the countless hours of work that I&#8217;ve put into &#8230; stealing someone else&#8217;s site design.

For a while now I have been in awe of Khoi Vinh&#8217;s Subtraction blog, with its amazing [...]]]></description>
			<content:encoded><![CDATA[<p>Welcome to the new girtby.net site design. If you&#8217;re in an aggregator, please feel free to head on over to a browser and admire the countless hours of work that I&#8217;ve put into &#8230; stealing someone else&#8217;s site design.</p>

<p>For a while now I have been in awe of Khoi Vinh&#8217;s <a href="http://www.subtraction.com/">Subtraction</a> blog, with its amazing and minimal black-and-white design. Since first discovering it I had intended to shamelessly copy it, if ever I decided to redesign my own blog.</p>

<p>The original plan was to follow <a href="http://madbean.com/2008/sandbox-child-theme/">Matt&#8217;s recommendation</a> and customise the Sandbox wordpress theme into some reasonable facsimile of Khoi Vinh&#8217;s site, without being too noticeably similar. While casting around for other sites to steal CSS from, I came across a wordpress theme which looked to provide most of what I wanted, so I used that instead of Sandbox. Thanks to Derek Powazek for his <a href="http://powazek.com/posts/516">DePo Clean</a> theme.</p>

<p>My version of the theme has departed slightly (or perhaps radically, depending on your point of view) from the original. Instead of a 5-column fixed layout, I&#8217;ve gone with a mostly-fluid layout. Maybe it&#8217;s the coder in me, but it just feels <em>wrong</em> hard-coding magic pixel numbers into the stylesheet&#8230;</p>

<p>The fluid layout may turn out to be a mistake, and indeed I&#8217;m already concerned about the mismatch between the columns in the footer and those in the body. By the time you read this I may have already changed my mind, and reverted to a fixed-width layout.</p>

<p>One addition I am moderately proud of is the linkroll at the bottom, which is sourced directly from <a href="http://delicious.com/girtbynet">delicious</a> via javascript and styled to match the theme of the site.</p>

<p>For the most part everything has come together nicely but I&#8217;m afraid I would be lost without the assistance of the awesome <a href="http://macrabbit.com/cssedit/">CSSEdit</a>, which as you can see, enables a dilettante designer like me to butcher the creations of others with ease.</p>

<p>I have some further creative additions to the site planned, not to mention some actual content, as well. Happy 2009, folks.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2008/12/28/great-designers-steal-and-so-do-i/feed/</wfw:commentRss>
		<slash:comments>11</slash:comments>
		</item>
	</channel>
</rss>
