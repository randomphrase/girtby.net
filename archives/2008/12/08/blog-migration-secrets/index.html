<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>girtby.net &#8211;   Blog Migration Secrets</title>

<meta name="verify-v1" content="unGvQ7Jwj5liZb2PzH2ckduvpe8Ua3Ls0MONzCHQQn4=" />

<link rel="stylesheet" href="http://girtby.net/wp-content/themes/depo-clean/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/atom+xml" title="girtby.net Articles Feed" href="http://girtby.net/feed/atom/" />
<link rel="alternate" type="application/atom+xml" title="girtby.net Comments Feed" href="http://girtby.net/comments/feed/atom/" />

<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://arankine.myopenid.com/" />

<link rel="meta" href="http://girtby.net/labels.rdf" type="application/rdf+xml" title="ICRA labels" />
<meta http-equiv="pics-Label" content='(pics-1.1 "http://www.icra.org/pics/vocabularyv03/" l gen true for "http://girtby.net" r (n 0 s 0 v 0 l 2 oa 0 ob 0 oc 0 od 0 oe 0 of 0 og 0 oh 0 c 1) gen true for "http://www.girtby.net" r (n 0 s 0 v 0 l 2 oa 0 ob 0 oc 0 od 0 oe 0 of 0 og 0 oh 0 c 1))' />

<link rel="prev" href="http://girtby.net/archives/2008/12/01/and-were-back/" />
<link rel="next" href="http://girtby.net/archives/2008/12/14/becoming-a-bronzed-aussie/" />

<link rel="pingback" href="http://girtby.net/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Feed" href="http://girtby.net/feed/" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Comments Feed" href="http://girtby.net/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Blog Migration Secrets Comments Feed" href="http://girtby.net/archives/2008/12/08/blog-migration-secrets/feed/" />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>
<script type='text/javascript' src='http://girtby.net/wp-content/themes/depo-clean/javascript/friendly_dates.js?ver=2.9-rare'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://girtby.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://girtby.net/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='girtby.net' href='http://girtby.net' />
<link rel='start' title='Thunderbirds Are Go-ne' href='http://girtby.net/archives/2004/09/20/thunderbirds-are-go-ne/' />
<link rel='prev' title='And We&#8217;re Back' href='http://girtby.net/archives/2008/12/01/and-were-back/' />
<link rel='next' title='Becoming a Bronzed Aussie' href='http://girtby.net/archives/2008/12/14/becoming-a-bronzed-aussie/' />
<meta name="generator" content="WordPress 2.9-rare" />
<link rel='canonical' href='http://girtby.net/archives/2008/12/08/blog-migration-secrets/' />
			<script type="text/javascript" src="http://girtby.net/wp-content/plugins/flickr-tag/js/flickrTagTooltips.js"></script>

			<link href="http://girtby.net/wp-content/plugins/flickr-tag/css/flickrTagTooltips.css" type="text/css" rel="stylesheet"/>
	
		<link href="http://girtby.net/wp-content/plugins/flickr-tag/css/flickrTag.css" type="text/css" rel="stylesheet"/>
	</head>
<body>
<div class="container">
	<div class="header">
        <div class="search">
            <form method="get" id="sform" action="http://girtby.net/">
                <input type="text" id="q" value="" name="s" size="15" />
			</form>
        </div><!-- end search -->
        			        <h1><a href="http://girtby.net/">this blog is girtby.net</a> 
            </h1>
	</div><!-- end header -->


<div class="blogads">

<!-- Your Stuff Here -->

</div>


    						
      <div class="post">
          <div class="metainfo">
              <p>Posted<br />
                <abbr class="published" title="Mon, 08 Dec 2008 23:26:07 -0500">8 December 2008 @ 11pm</abbr></p>
                <p>Tagged<br />
                <a href="http://girtby.net/archives/category/meta/" title="View all posts in Meta" rel="category tag">Meta</a>,  <a href="http://girtby.net/archives/category/nerd-factor-x/" title="View all posts in Nerd Factor X" rel="category tag">Nerd Factor X</a></p>
                <p>Tags<br/><a href="http://girtby.net/archives/tag/mephisto/" rel="tag">mephisto</a>, <a href="http://girtby.net/archives/tag/wordpress/" rel="tag">wordpress</a></p>		    </div>
		    <div class="content">
		        <h3>Blog Migration Secrets 
		        </h3>
		        <p>So given that the world (<a href="/archives/2006/08/14/towards-a-common-blog-export-format/">still</a>) lacks a decent common export format for blog software, you might wonder how I managed to move the collection of assorted nonsense that is girtby.net from Mephisto to Wordpress.</p>

<p>Actually, there&#8217;s a real chance you might not wonder this. But let&#8217;s press on anyway for the sake of Google and future generations.</p>

<p>All the hard work was actually done by <del datetime="2008-12-08T19:02:50+00:00">Daniel</del> Dave Murphy over at <a href="http://schwuk.com/articles/2008/03/25/thy-will-be-done-m2wppy-is-released">schwuk.com</a> who published the script and a bzr branch. Jason Morrison added MySQL support and <a href="http://jayunit.net/2008/04/16/mephisto-to-wordpress/">published</a> a diff.</p>

<p>I&#8217;ve made some changes of my own and published the results. You can get either:</p>

<ul>
<li>Just the <a href="/code/m2wp/m2wp.py">latest m2wp.py script</a> incorporating Jason&#8217;s and my patches, or</li>
<li>A bzr <a href="/code/m2wp">branch</a>, continuing the spirit of being all modern and distributed.</li>
</ul>

<p>So what sort of changes did I have to make?</p>

<p>Well, Dave&#8217;s script extracted the rendered HTML into the Wordpress database. This is OK but it means you can&#8217;t go back and edit old posts in their source form (in my case, Markdown format). So to use my version of the script you need to set up your content filters in Wordpress to match those in Mephisto.</p>

<p>There are a couple of other minor changes, specifically handling NULL as well as empty content (for whatever reason I had some of these fields in my Mephisto database), and a minor formatting problem which prevented the &#8220;Read More&#8221; links from working properly.</p>

<p>Anyway that&#8217;s my version of the script, and now that that&#8217;s out of the way I can get back to procrastinating about doing anything with CSS.</p>
		        <br clear="left" />
		    </div>
        </div><!-- end post -->

			
<!-- You can start editing here. -->


<div id="comments" class="post">

	<h3 class="comments_headers">4 Comments</h3>

</div>
	
	
			
        <div class="post" id="comment-1924">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://schwuk.com' rel='external nofollow' class='url'>Dave</a><br />
                <input type="hidden" name="post_date" value="Mon, 08 Dec 2008 23:26:07 -0500" />
                <abbr class="commented" title="Tue, 09 Dec 2008 01:47:56 -0500">9 December 2008 @ 1am</abbr><br />
                <a href="#comment-1924">#</a></p>
			</div>
			<div class="content">
				<p>Glad you found the script useful. I really must patch in some of the changes others have made.</p>

<p>BTW it&#8217;s Dave, not Daniel. <img src='http://girtby.net/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1925">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://girtby.net' rel='external nofollow' class='url'>alastair</a><br />
                <input type="hidden" name="post_date" value="Mon, 08 Dec 2008 23:26:07 -0500" />
                <abbr class="commented" title="Tue, 09 Dec 2008 06:04:26 -0500">9 December 2008 @ 6am</abbr><br />
                <a href="#comment-1925">#</a></p>
			</div>
			<div class="content">
				<p>A thousand pardons, how stupid of me.</p>

<p>Is there enough interest to start a launchpad project now? <img src='http://girtby.net/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1926">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://schwuk.com' rel='external nofollow' class='url'>Dave</a><br />
                <input type="hidden" name="post_date" value="Mon, 08 Dec 2008 23:26:07 -0500" />
                <abbr class="commented" title="Tue, 09 Dec 2008 06:22:58 -0500">9 December 2008 @ 6am</abbr><br />
                <a href="#comment-1926">#</a></p>
			</div>
			<div class="content">
				<p>No problem. <img src='http://girtby.net/wp-includes/images/smilies/icon_smile.gif' alt=':)' class='wp-smiley' /> </p>

<p>Yeah, why not. I&#8217;ll get one set up.</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-2272">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://yourelevation.com' rel='external nofollow' class='url'>Jared</a><br />
                <input type="hidden" name="post_date" value="Mon, 08 Dec 2008 23:26:07 -0500" />
                <abbr class="commented" title="Thu, 22 Jan 2009 05:29:42 -0500">22 January 2009 @ 5am</abbr><br />
                <a href="#comment-2272">#</a></p>
			</div>
			<div class="content">
				<p>I&#8217;m trying run this script, and this is the traceback I was getting:</p>

<pre><code>Traceback (most recent call last):
  File "m2wp-mysql.py", line 291, in &lt;module&gt;
    exporter.export()
  File "m2wp-mysql.py", line 263, in export
    output = self.wxr.finalise()
  File "m2wp-mysql.py", line 193, in finalise
    wxr = self.display()
  File "m2wp-mysql.py", line 72, in display
    return self.xml.toprettyxml('')
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/xml/dom/minidom.py", line 57, in toprettyxml
    self.writexml(writer, "", indent, newl, encoding)
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/xml/dom/minidom.py", line 1744, in writexml
    node.writexml(writer, indent, addindent, newl)
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/xml/dom/minidom.py", line 814, in writexml
    node.writexml(writer,indent+addindent,addindent,newl)
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/xml/dom/minidom.py", line 814, in writexml
    node.writexml(writer,indent+addindent,addindent,newl)
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/xml/dom/minidom.py", line 814, in writexml
    node.writexml(writer,indent+addindent,addindent,newl)
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/xml/dom/minidom.py", line 814, in writexml
    node.writexml(writer,indent+addindent,addindent,newl)
  File "/System/Library/Frameworks/Python.framework/Versions/2.5/lib/python2.5/xml/dom/minidom.py", line 1143, in writexml
    raise ValueError("']]&gt;' not allowed in a CDATA section")
ValueError: ']]&gt;' not allowed in a CDATA section
</code></pre>

<p>I had some hivelogic enkoder blocks in my posts that were causing this.  Took them out and everything was ok.</p> 
							</div>
		<br clear="left" />
		</div>
		
	

	<!-- Comment Form -->

	    

			
				
<div class="posttopline">
	<span class="previous">&larr; <a href="http://girtby.net/archives/2008/12/01/and-were-back/" rel="prev">And We&#8217;re Back</a></span>
	<span class="next"><a href="http://girtby.net/archives/2008/12/14/becoming-a-bronzed-aussie/" rel="next">Becoming a Bronzed Aussie</a> &rarr;</span>
</div>

<br clear="all" />

    <div class="footer">
		
        <div class="first">
        <div id="text-318154731" class="widget widget_text"><h5 class="widgettitle">Archives</h5>			<div class="textwidget"><ul>
<li><a href="/archives/2009">2009</a></li>
<li><a href="/archives/2008">2008</a></li>
<li><a href="/archives/2007">2007</a></li>
<li><a href="/archives/2006">2006</a></li>
<li><a href="/archives/2005">2005</a></li>
<li><a href="/archives/2004">2004</a></li>
</ul></div>
		</div>		</div>

        <div class="sidebar">
        <div id="text-326846052" class="widget widget_text"><h5 class="widgettitle">Leveraged Synergy</h5>			<div class="textwidget"><p>Hello, I&#8217;m Alastair Rankine. I once had a blog, and you've found it. <a href="/about/">Would you like to know more?</a></p>
<p>From time to time I made offerings to the internet. <a href="/offerings/">Would you like some?</a></p>
</div>
		</div>        </div>

        <div class="last">
        <div id="linkcat-2" class="widget widget_links"><h5 class="widgettitle">Blogroll</h5>
	<ul class='xoxo blogroll'>
<li><a href="http://bjkeefe.blogspot.com">bjkeefe</a></li>
<li><a href="http://brainsnorkel.com">brainsnorkel</a></li>
<li><a href="http://deadlybloodyserious.com">Deadly Bloody Serious</a></li>
<li><a href="http://blog.alphajuliet.com/">follicle</a></li>
<li><a href="http://madbean.com/">madbean</a></li>
<li><a href="http://marxyblog.blogspot.com">marxy&#8217;s musing on technology</a></li>
<li><a href="http://mattrubinstein.com.au">mattrubinstein.com.au</a></li>
<li><a href="http://somethinkodd.com/oddthinking">OddThinking</a></li>

	</ul>
</div>
        </div>

	    </div><!-- end footer -->

        <br clear="all" />
        
		<div class="copyright">
        	        	<span class="previous">&larr; <a href="http://girtby.net">Back to Home</a></span>
                        <p>Powered by <a href="http://wordpress.org">WordPress</a> using the <a href="http://powazek.com/posts/516">DePo Clean Theme</a> <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/au/"><img alt="Creative Commons License" class="badge" width=80 height=15 src="http://i.creativecommons.org/l/by-sa/2.5/au/80x15.png" /></a></p>
            		</div>

	</div> <!-- end container -->
</body>
</html>
