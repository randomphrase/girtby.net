<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>girtby.net &#8211;   Twitter over IP</title>

<meta name="verify-v1" content="unGvQ7Jwj5liZb2PzH2ckduvpe8Ua3Ls0MONzCHQQn4=" />

<link rel="stylesheet" href="http://girtby.net/wp-content/themes/depo-clean/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/atom+xml" title="girtby.net Articles Feed" href="http://girtby.net/feed/atom/" />
<link rel="alternate" type="application/atom+xml" title="girtby.net Comments Feed" href="http://girtby.net/comments/feed/atom/" />

<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://arankine.myopenid.com/" />

<link rel="meta" href="http://girtby.net/labels.rdf" type="application/rdf+xml" title="ICRA labels" />
<meta http-equiv="pics-Label" content='(pics-1.1 "http://www.icra.org/pics/vocabularyv03/" l gen true for "http://girtby.net" r (n 0 s 0 v 0 l 2 oa 0 ob 0 oc 0 od 0 oe 0 of 0 og 0 oh 0 c 1) gen true for "http://www.girtby.net" r (n 0 s 0 v 0 l 2 oa 0 ob 0 oc 0 od 0 oe 0 of 0 og 0 oh 0 c 1))' />

<link rel="prev" href="http://girtby.net/archives/2008/05/22/blogging-horror/" />
<link rel="next" href="http://girtby.net/archives/2008/07/03/wide-finder-2-the-widening/" />

<link rel="pingback" href="http://girtby.net/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Feed" href="http://girtby.net/feed/" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Comments Feed" href="http://girtby.net/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Twitter over IP Comments Feed" href="http://girtby.net/archives/2008/06/04/twitter-over-ip/feed/" />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>
<script type='text/javascript' src='http://girtby.net/wp-content/themes/depo-clean/javascript/friendly_dates.js?ver=2.9-rare'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://girtby.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://girtby.net/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='girtby.net' href='http://girtby.net' />
<link rel='start' title='Thunderbirds Are Go-ne' href='http://girtby.net/archives/2004/09/20/thunderbirds-are-go-ne/' />
<link rel='prev' title='Blogging Horror' href='http://girtby.net/archives/2008/05/22/blogging-horror/' />
<link rel='next' title='Wide Finder 2: The Widening' href='http://girtby.net/archives/2008/07/03/wide-finder-2-the-widening/' />
<meta name="generator" content="WordPress 2.9-rare" />
<link rel='canonical' href='http://girtby.net/archives/2008/06/04/twitter-over-ip/' />
			<script type="text/javascript" src="http://girtby.net/wp-content/plugins/flickr-tag/js/flickrTagTooltips.js"></script>

			<link href="http://girtby.net/wp-content/plugins/flickr-tag/css/flickrTagTooltips.css" type="text/css" rel="stylesheet"/>
	
		<link href="http://girtby.net/wp-content/plugins/flickr-tag/css/flickrTag.css" type="text/css" rel="stylesheet"/>
	</head>
<body>
<div class="container">
	<div class="header">
        <div class="search">
            <form method="get" id="sform" action="http://girtby.net/">
                <input type="text" id="q" value="" name="s" size="15" />
			</form>
        </div><!-- end search -->
        			        <h1><a href="http://girtby.net/">this blog is girtby.net</a> 
            </h1>
	</div><!-- end header -->


<div class="blogads">

<!-- Your Stuff Here -->

</div>


    						
      <div class="post">
          <div class="metainfo">
              <p>Posted<br />
                <abbr class="published" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr></p>
                <p>Tagged<br />
                <a href="http://girtby.net/archives/category/linkpimpin/" title="View all posts in Linkpimpin&#039;" rel="category tag">Linkpimpin'</a>,  <a href="http://girtby.net/archives/category/nerd-factor-x/" title="View all posts in Nerd Factor X" rel="category tag">Nerd Factor X</a></p>
                <p>Tags<br/><a href="http://girtby.net/archives/tag/architecture/" rel="tag">architecture</a>, <a href="http://girtby.net/archives/tag/end-to-end/" rel="tag">end-to-end</a>, <a href="http://girtby.net/archives/tag/network/" rel="tag">network</a>, <a href="http://girtby.net/archives/tag/twitter/" rel="tag">twitter</a></p>		    </div>
		    <div class="content">
		        <h3>Twitter over IP 
		        </h3>
		        <p>Let&#8217;s solve Twitter&#8217;s scalability problems, shall we?</p>

<p>So, like most people, I don&#8217;t know much about the problems there and certainly don&#8217;t have any solutions to suggest. But I do know there are a certain class of solutions which <em>aren&#8217;t</em> on the table.</p>

<p>If you look at Twitter from a suitably high vantage point you see real-time communication between small groups. People entering short messages and having these messages appear at their peers a small time later. There&#8217;s also a central archive, but I&#8217;ve heard Twitter described as &#8220;public Instant-Messaging&#8221; and this seems to characterise it best for me.</p>

<p>In short, Twitter seems more suited to peer-to-peer communication than to client-server. What sort of protocol would it use? I can imagine a protocol which would be probably UDP-based, and which would send tweets to followers either directly from peers or perhaps through a local aggregation point. Large groups of followers could perhaps even use UDP multicast. Archive servers could be reached through network anycast addresses, to allow for greater decentralisation. IPv6 to get universal connectivity. And so on; fill in your own pet network technology here, there are certainly lots of potential solutions.</p>

<p>Instead of these, clients communicate directly with the Twitter servers using HTTP. Not only that, but they <em>poll</em> for updates. Bit of an architectural blunder, you might think. Well not really. In fact I don&#8217;t think the Twitter designers had any choice.</p>

<p>Once upon a time it was possible to deploy new application-layer protocols on the Internet. But those times have passed, it seems. These days, it&#8217;s HTTP(S) or nothing. And this is <em>not</em> the protocol you would choose for carrying tweets, if you had the choice. So the fact that twitter works <em>at all</em> over this sub-optimal application-layer protocol is quite an achievement.</p>

<p>This is a great example of the many ways in which <a href="/archives/2006/01/04/making-connections/">innovation can be stifled</a> by enforcing a lowest-common-denominator.</p>

<p>The impact is of course more widespread than just Twitter. In fact, the so-called end-to-end principle which was one of the fundamental founding principles of the Internet is now all but abandoned in practice. Geoff Huston examines the issue in some detail in a <a href="http://www.potaroo.net/ispcol/2008-05/eoe2e.html">recent article</a>, and it is highly recommended.</p>

<p>Of course, there are no easy answers, either for Twitter or the next application to suffer due to the proliferation of network middleware. But it&#8217;s certainly an issue that does need to be more prominent.</p>

<p>(This post is an obvious departure from my usual style of blatant attack pieces in order to score traffic and fame for myself. Normal service will resume shortly.)</p>
		        <br clear="left" />
		    </div>
        </div><!-- end post -->

			
<!-- You can start editing here. -->


<div id="comments" class="post">

	<h3 class="comments_headers">8 Comments</h3>

</div>
	
	
			
        <div class="post" id="comment-1793">
		    <div class="metainfo">
                <p>Posted by<br />Gavin Carothers<br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1793">#</a></p>
			</div>
			<div class="content">
				<p>I think that XMPP is very good solution for the &#8220;Twitter&#8221; system, there&#8217;s already been a good deal of work on the pubsub extensions which would allow for the more persistent twitter like service. See: <a href="http://www.xmpp.org/extensions/xep-0060.html" rel="nofollow">http://www.xmpp.org/extensions/xep-0060.html</a></p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1794">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://marxy.org' rel='external nofollow' class='url'>marxy</a><br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1794">#</a></p>
			</div>
			<div class="content">
				<p>Certainly users are much more likely to be able to get through using HTTP, but Skype appears to have worked around this issue, at least for one to one or small groups.</p>

<p>I wonder why they didn&#8217;t just adopt <a href="http://www.xmpp.org/extensions/xep-0060.html">XMPP</a>?</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1795">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://brainsnorkel.com' rel='external nofollow' class='url'>Chris</a><br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1795">#</a></p>
			</div>
			<div class="content">
				<p>And so long as we&#8217;re quoting XMPP standards&#8230; take <a href="http://www.xmpp.org/extensions/xep-0206.html">that</a>!</p>

<blockquote>
  <p>(This post is an obvious departure from my usual style of blatant attack pieces in order to score traffic and fame for myself. Normal service will resume shortly.)</p>
</blockquote>

<p>I think you&#8217;re hatin&#8217; on XMPP by not mentioning it in your post.</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1796">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://alphajuliet.com/' rel='external nofollow' class='url'>Andrew</a><br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1796">#</a></p>
			</div>
			<div class="content">
				<p>Can you elaborate on why they didn&#8217;t have much choice about using HTTP?  Why was something like, say, BEEP, not an option?</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1797">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://asbjor.nu/' rel='external nofollow' class='url'>Asbjørn Ulsberg</a><br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1797">#</a></p>
			</div>
			<div class="content">
				<p>Seeing how Twitter&#8217;s integrated with XMPP already, I&#8217;m really surprised that they aren&#8217;t offering a full-fledged API over XMPP, 100% compatible and feature-equivalent with the HTTP version. When this option exists, it&#8217;s all up to the Twitter clients (like Twhirl, Twitterrific, etc) to support the new API instead of the HTTP one. Over time, this will reduce the load on the HTTP API and thus on Twitter&#8217;s servers alltogether.</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1798">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://blog.quaddmg.com' rel='external nofollow' class='url'>Sunny Kalsi</a><br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1798">#</a></p>
			</div>
			<div class="content">
				<p>In the olden days of internet, there were many protocols &#8212; ftp, ICQ, IRC, etc. and a lot of them were not HTTP. Then eventually the people who maintained the firewalls at workplaces started blocking all the ports and a lot of people got annoyed when their software didn&#8217;t work with NATs.</p>

<p>The only way to get around both firewalls and NATs was by using HTTP. The issue with both firewalls and NATs is somewhat similar. With HTTP traffic it&#8217;s easy to determine that the traffic was requested, and who in your network requested this traffic.</p>

<p>It makes me so sad when I think about all those routers and machines out there which no longer reply to a simple PING&#8230; I remember when computers used to talk to their neighbours, tell them what was up, their TTL to their destinations, like good god-fearing components. Computer society is turning into real society.</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1799">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://girtby.net' rel='external nofollow' class='url'>Alastair</a><br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1799">#</a></p>
			</div>
			<div class="content">
				<p>Thanks all for the XMPP lovin&#8217;. Wikipedia points to some possible <a href="http://mail.jabber.org/pipermail/standards/2006-February/010028.html">scalability concerns</a> with XMPP and large numbers of participants, not sure if they are still valid.</p>

<p>But even if XMPP does solve some of these problems, I think there is still scope to look at different network layer protocols. I mentioned UDP multicast, but is anyone else interested in <a href="http://en.wikipedia.org/wiki/SCTP">SCTP</a>? I think it&#8217;s very promising, or at least would be if end-to-end was practical.</p>

<p>Chris: The very existence of the BOSH technique kindof proves my point. Sure, it&#8217;s possible to come up with workarounds at the application layer for network layer limitations. But these can have unintended consequences.</p>

<p>Andrew: I think Sunny has sort of answered your question, although it&#8217;s not accurate to say that HTTP was invented as a firewall bypass protocol. Still, it certainly is the lowest common denominator these days, and if you have a new application it&#8217;s highly preferable if it can be sledgehammered into a client-server model and crammed into HTTP. If you don&#8217;t, your users may end up dealing with firewalls, port forwarding, and all that nonsense. Sub-optimal either way.</p>

<p>I&#8217;ve just thought of a new, catchier title for this post: HTTP is the new TCP.</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1800">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://www.theatons.com/' rel='external nofollow' class='url'>Adult Ühler</a><br />
                <input type="hidden" name="post_date" value="Wed, 04 Jun 2008 10:43:00 -0400" />
                <abbr class="commented" title="Wed, 04 Jun 2008 10:43:00 -0400">4 June 2008 @ 10am</abbr><br />
                <a href="#comment-1800">#</a></p>
			</div>
			<div class="content">
				<p>I&#8217;m also wondering why not  just use XMPP?</p> 
							</div>
		<br clear="left" />
		</div>
		
	

	<!-- Comment Form -->

	    

			
				
<div class="posttopline">
	<span class="previous">&larr; <a href="http://girtby.net/archives/2008/05/22/blogging-horror/" rel="prev">Blogging Horror</a></span>
	<span class="next"><a href="http://girtby.net/archives/2008/07/03/wide-finder-2-the-widening/" rel="next">Wide Finder 2: The Widening</a> &rarr;</span>
</div>

<br clear="all" />

    <div class="footer">
		
        <div class="first">
        <div id="text-318154731" class="widget widget_text"><h5 class="widgettitle">Archives</h5>			<div class="textwidget"><ul>
<li><a href="/archives/2009">2009</a></li>
<li><a href="/archives/2008">2008</a></li>
<li><a href="/archives/2007">2007</a></li>
<li><a href="/archives/2006">2006</a></li>
<li><a href="/archives/2005">2005</a></li>
<li><a href="/archives/2004">2004</a></li>
</ul></div>
		</div>		</div>

        <div class="sidebar">
        <div id="text-326846052" class="widget widget_text"><h5 class="widgettitle">Leveraged Synergy</h5>			<div class="textwidget"><p>Hello, I&#8217;m Alastair Rankine. I once had a blog, and you've found it. <a href="/about/">Would you like to know more?</a></p>
<p>From time to time I made offerings to the internet. <a href="/offerings/">Would you like some?</a></p>
</div>
		</div>        </div>

        <div class="last">
        <div id="linkcat-2" class="widget widget_links"><h5 class="widgettitle">Blogroll</h5>
	<ul class='xoxo blogroll'>
<li><a href="http://bjkeefe.blogspot.com">bjkeefe</a></li>
<li><a href="http://brainsnorkel.com">brainsnorkel</a></li>
<li><a href="http://deadlybloodyserious.com">Deadly Bloody Serious</a></li>
<li><a href="http://blog.alphajuliet.com/">follicle</a></li>
<li><a href="http://madbean.com/">madbean</a></li>
<li><a href="http://marxyblog.blogspot.com">marxy&#8217;s musing on technology</a></li>
<li><a href="http://mattrubinstein.com.au">mattrubinstein.com.au</a></li>
<li><a href="http://somethinkodd.com/oddthinking">OddThinking</a></li>

	</ul>
</div>
        </div>

	    </div><!-- end footer -->

        <br clear="all" />
        
		<div class="copyright">
        	        	<span class="previous">&larr; <a href="http://girtby.net">Back to Home</a></span>
                        <p>Powered by <a href="http://wordpress.org">WordPress</a> using the <a href="http://powazek.com/posts/516">DePo Clean Theme</a> <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/au/"><img alt="Creative Commons License" class="badge" width=80 height=15 src="http://i.creativecommons.org/l/by-sa/2.5/au/80x15.png" /></a></p>
            		</div>

	</div> <!-- end container -->
</body>
</html>
