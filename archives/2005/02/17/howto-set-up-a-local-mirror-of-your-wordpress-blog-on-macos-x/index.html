<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>girtby.net &#8211;   HOWTO: Set up a Local Mirror of Your Wordpress Blog on MacOS X</title>

<meta name="verify-v1" content="unGvQ7Jwj5liZb2PzH2ckduvpe8Ua3Ls0MONzCHQQn4=" />

<link rel="stylesheet" href="http://girtby.net/wp-content/themes/depo-clean/style.css" type="text/css" media="screen" />
<link rel="alternate" type="application/atom+xml" title="girtby.net Articles Feed" href="http://girtby.net/feed/atom/" />
<link rel="alternate" type="application/atom+xml" title="girtby.net Comments Feed" href="http://girtby.net/comments/feed/atom/" />

<link rel="openid.server" href="http://www.myopenid.com/server" />
<link rel="openid.delegate" href="http://arankine.myopenid.com/" />

<link rel="meta" href="http://girtby.net/labels.rdf" type="application/rdf+xml" title="ICRA labels" />
<meta http-equiv="pics-Label" content='(pics-1.1 "http://www.icra.org/pics/vocabularyv03/" l gen true for "http://girtby.net" r (n 0 s 0 v 0 l 2 oa 0 ob 0 oc 0 od 0 oe 0 of 0 og 0 oh 0 c 1) gen true for "http://www.girtby.net" r (n 0 s 0 v 0 l 2 oa 0 ob 0 oc 0 od 0 oe 0 of 0 og 0 oh 0 c 1))' />

<link rel="prev" href="http://girtby.net/archives/2005/02/17/wordpress-15/" />
<link rel="next" href="http://girtby.net/archives/2005/02/27/netgear-bugs/" />

<link rel="pingback" href="http://girtby.net/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Feed" href="http://girtby.net/feed/" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; Comments Feed" href="http://girtby.net/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="girtby.net &raquo; HOWTO: Set up a Local Mirror of Your Wordpress Blog on MacOS X Comments Feed" href="http://girtby.net/archives/2005/02/17/howto-set-up-a-local-mirror-of-your-wordpress-blog-on-macos-x/feed/" />
<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js'></script>
<script type='text/javascript' src='http://girtby.net/wp-content/themes/depo-clean/javascript/friendly_dates.js?ver=2.9-rare'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://girtby.net/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://girtby.net/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='girtby.net' href='http://girtby.net' />
<link rel='start' title='Thunderbirds Are Go-ne' href='http://girtby.net/archives/2004/09/20/thunderbirds-are-go-ne/' />
<link rel='prev' title='WordPress 1.5' href='http://girtby.net/archives/2005/02/17/wordpress-15/' />
<link rel='next' title='Netgear Bugs' href='http://girtby.net/archives/2005/02/27/netgear-bugs/' />
<meta name="generator" content="WordPress 2.9-rare" />
<link rel='canonical' href='http://girtby.net/archives/2005/02/17/howto-set-up-a-local-mirror-of-your-wordpress-blog-on-macos-x/' />
			<script type="text/javascript" src="http://girtby.net/wp-content/plugins/flickr-tag/js/flickrTagTooltips.js"></script>

			<link href="http://girtby.net/wp-content/plugins/flickr-tag/css/flickrTagTooltips.css" type="text/css" rel="stylesheet"/>
	
		<link href="http://girtby.net/wp-content/plugins/flickr-tag/css/flickrTag.css" type="text/css" rel="stylesheet"/>
	</head>
<body>
<div class="container">
	<div class="header">
        <div class="search">
            <form method="get" id="sform" action="http://girtby.net/">
                <input type="text" id="q" value="" name="s" size="15" />
			</form>
        </div><!-- end search -->
        			        <h1><a href="http://girtby.net/">this blog is girtby.net</a> 
            </h1>
	</div><!-- end header -->


<div class="blogads">

<!-- Your Stuff Here -->

</div>


    						
      <div class="post">
          <div class="metainfo">
              <p>Posted<br />
                <abbr class="published" title="Thu, 17 Feb 2005 23:01:00 -0500">17 February 2005 @ 11pm</abbr></p>
                <p>Tagged<br />
                <a href="http://girtby.net/archives/category/nerd-factor-x/" title="View all posts in Nerd Factor X" rel="category tag">Nerd Factor X</a></p>
                		    </div>
		    <div class="content">
		        <h3>HOWTO: Set up a Local Mirror of Your Wordpress Blog on MacOS X 
		        </h3>
		        <p>Here&#8217;s what I did to set up a local mirror of my Wordpress blog on MacOS X. Please let me know if it&#8217;s useful, and I will try to update this from time to time.</p>

<p>Firstly, why do this? Well I can think of a few reasons:</p>

<ul>
<li>keeping an up-to-date and <em>working</em> backup</li>
<li>using it for testing changes to the blog before you inflict them on the world. Like formatting, software updates, or anything really.</li>
<li>It&#8217;s fun (except for the MySQL setup, which we&#8217;ll get to)</li>
</ul>

<p><em>Update:</em> I have moved this HOWTO to a <a href="/offerings/wordpress-osx-local-mirror">new page</a>. Please update your bookmarks.</p>
		        <br clear="left" />
		    </div>
        </div><!-- end post -->

			
<!-- You can start editing here. -->


<div id="comments" class="post">

	<h3 class="comments_headers">6 Comments</h3>

</div>
	
	
			
        <div class="post" id="comment-1054">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://goldenhammer.darusha.ca' rel='external nofollow' class='url'>darusha</a><br />
                <input type="hidden" name="post_date" value="Thu, 17 Feb 2005 23:01:00 -0500" />
                <abbr class="commented" title="Thu, 17 Feb 2005 23:01:00 -0500">17 February 2005 @ 11pm</abbr><br />
                <a href="#comment-1054">#</a></p>
			</div>
			<div class="content">
				<p>Very cool.  Just 15 minutes ago I was thinking &#8220;this (fooling around with my Wordpress installation) would be so much better if I could just test things locally first, but I have no ideas how to set up mySQL&#8221;.  Now I have a project for this weekend.  Thanks!</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1055">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://goldenhammer.darusha.ca' rel='external nofollow' class='url'>darusha</a><br />
                <input type="hidden" name="post_date" value="Thu, 17 Feb 2005 23:01:00 -0500" />
                <abbr class="commented" title="Thu, 17 Feb 2005 23:01:00 -0500">17 February 2005 @ 11pm</abbr><br />
                <a href="#comment-1055">#</a></p>
			</div>
			<div class="content">
				<p>Excellent instuctions!  I did it a little differently, and installed a clean WP installation to use as a sandbox, but the mySQL info was invaluable.</p>

<p>One thing I came across when I was setting up my database, was that I had to use two steps as follows:</p>

<p>mysql&gt; grant all on example<em>db.* to example</em>db2@localhost;
Query OK, 0 rows affected (0.01 sec)</p>

<p>mysql&gt; SET PASSWORD for example<em>db@localhost = PASSWORD(&#8216;example</em>pw&#8217;);
Query OK, 0 rows affected (0.10 sec)</p>

<p>But we&#8217;re up and running now!</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1056">
		    <div class="metainfo">
                <p>Posted by<br />hendrik<br />
                <input type="hidden" name="post_date" value="Thu, 17 Feb 2005 23:01:00 -0500" />
                <abbr class="commented" title="Thu, 17 Feb 2005 23:01:00 -0500">17 February 2005 @ 11pm</abbr><br />
                <a href="#comment-1056">#</a></p>
			</div>
			<div class="content">
				<p>i had the same problem &#8212; wanting to have a working of my wordpress run site on my powerbook so if i play i do not break my live site &#8230;</p>

<p>maybe i can help you with your outstanding issue:
the basic idea is to ssh to the server running the live site, run mysqldump on it, pipe the output through sed in order to replace the internet urls with local urls and pipe it into a mysql client running on your mac which in turn executes the sql statements and does the database update &#8212; to make a long story short:</p>

<p>ssh server mysqldump &#8211;add-drop-table -u user &#8211;password=password database | sed -e &#8217;s%yoursite.com%mac.local/~user/yoursite%g&#8217; | mysql -u user &#8211;password=password database</p>

<p>you should set up public key authentication with ssh (run ssh-keygen on your mac, append $HOME/.ssh/id<em>dsa.pub from your mac to the file $HOME/.ssh/authorized</em>keys on your server) , then this command could run unattended.</p>

<p>i can see two drawbacks/things to consider &#8212; this setup works for me, but YMMV:
* every time you run this command the whole db is copied, not only the changes (maybe i come up with a better idea at some point &#8230;)
* every occurance of the string yoursite.com is replaced with mac.local/~user/yoursite, not only the urls and home settings, so if somebody puts yoursite.com in post/comment/page it will also be replaced</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1057">
		    <div class="metainfo">
                <p>Posted by<br />alastair<br />
                <input type="hidden" name="post_date" value="Thu, 17 Feb 2005 23:01:00 -0500" />
                <abbr class="commented" title="Thu, 17 Feb 2005 23:01:00 -0500">17 February 2005 @ 11pm</abbr><br />
                <a href="#comment-1057">#</a></p>
			</div>
			<div class="content">
				<p>darusha: Thanks for the info, will update.</p>

<p>hendrik: good ideas, but I dont want to assume ssh access. A similar technique might work with curl for those who, like me, can get access to their database dump from cPanel (ie a web interface for administering a hosting account).</p>

<p>At the moment I&#8217;m toying with running an SQL UPDATE command to do the correct URL substitution in the database.</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1058">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://www.mactips.nl/2005/03/23/lokale-weblog-kopie/' rel='external nofollow' class='url'>Mactips  &amp;amp;raquo; Blog Archive   &amp;amp;raquo; Lokale weblog kopie</a><br />
                <input type="hidden" name="post_date" value="Thu, 17 Feb 2005 23:01:00 -0500" />
                <abbr class="commented" title="Thu, 17 Feb 2005 23:01:00 -0500">17 February 2005 @ 11pm</abbr><br />
                <a href="#comment-1058">#</a></p>
			</div>
			<div class="content">
				<p>[...] n de Sleep mode                                           Lokale weblog kopie                                     Als je een weblog beheert is deze handleiding om op je eigen computer een kop [...]</p> 
							</div>
		<br clear="left" />
		</div>
			
        <div class="post" id="comment-1059">
		    <div class="metainfo">
                <p>Posted by<br /><a href='http://arni.danielsson.org/log/2005/03/23/wp-spegladh-a-mac-os-x/' rel='external nofollow' class='url'>Anonymous</a><br />
                <input type="hidden" name="post_date" value="Thu, 17 Feb 2005 23:01:00 -0500" />
                <abbr class="commented" title="Thu, 17 Feb 2005 23:01:00 -0500">17 February 2005 @ 11pm</abbr><br />
                <a href="#comment-1059">#</a></p>
			</div>
			<div class="content">
				<p>[...] &gt;
     WP spegla</p> 
							</div>
		<br clear="left" />
		</div>
		
	

	<!-- Comment Form -->

	    

			
				
<div class="posttopline">
	<span class="previous">&larr; <a href="http://girtby.net/archives/2005/02/17/wordpress-15/" rel="prev">WordPress 1.5</a></span>
	<span class="next"><a href="http://girtby.net/archives/2005/02/27/netgear-bugs/" rel="next">Netgear Bugs</a> &rarr;</span>
</div>

<br clear="all" />

    <div class="footer">
		
        <div class="first">
        <div id="text-318154731" class="widget widget_text"><h5 class="widgettitle">Archives</h5>			<div class="textwidget"><ul>
<li><a href="/archives/2009">2009</a></li>
<li><a href="/archives/2008">2008</a></li>
<li><a href="/archives/2007">2007</a></li>
<li><a href="/archives/2006">2006</a></li>
<li><a href="/archives/2005">2005</a></li>
<li><a href="/archives/2004">2004</a></li>
</ul></div>
		</div>		</div>

        <div class="sidebar">
        <div id="text-326846052" class="widget widget_text"><h5 class="widgettitle">Leveraged Synergy</h5>			<div class="textwidget"><p>Hello, I&#8217;m Alastair Rankine. I once had a blog, and you've found it. <a href="/about/">Would you like to know more?</a></p>
<p>From time to time I made offerings to the internet. <a href="/offerings/">Would you like some?</a></p>
</div>
		</div>        </div>

        <div class="last">
        <div id="linkcat-2" class="widget widget_links"><h5 class="widgettitle">Blogroll</h5>
	<ul class='xoxo blogroll'>
<li><a href="http://bjkeefe.blogspot.com">bjkeefe</a></li>
<li><a href="http://brainsnorkel.com">brainsnorkel</a></li>
<li><a href="http://deadlybloodyserious.com">Deadly Bloody Serious</a></li>
<li><a href="http://blog.alphajuliet.com/">follicle</a></li>
<li><a href="http://madbean.com/">madbean</a></li>
<li><a href="http://marxyblog.blogspot.com">marxy&#8217;s musing on technology</a></li>
<li><a href="http://mattrubinstein.com.au">mattrubinstein.com.au</a></li>
<li><a href="http://somethinkodd.com/oddthinking">OddThinking</a></li>

	</ul>
</div>
        </div>

	    </div><!-- end footer -->

        <br clear="all" />
        
		<div class="copyright">
        	        	<span class="previous">&larr; <a href="http://girtby.net">Back to Home</a></span>
                        <p>Powered by <a href="http://wordpress.org">WordPress</a> using the <a href="http://powazek.com/posts/516">DePo Clean Theme</a> <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/au/"><img alt="Creative Commons License" class="badge" width=80 height=15 src="http://i.creativecommons.org/l/by-sa/2.5/au/80x15.png" /></a></p>
            		</div>

	</div> <!-- end container -->
</body>
</html>
