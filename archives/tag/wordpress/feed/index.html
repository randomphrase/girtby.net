<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>girtby.net &#187; wordpress</title>
	<atom:link href="http://girtby.net/archives/tag/wordpress/feed/" rel="self" type="application/rss+xml" />
	<link>http://girtby.net</link>
	<description>this blog is girtby.net</description>
	<lastBuildDate>Thu, 17 Sep 2009 14:27:44 +0000</lastBuildDate>
	<generator>http://wordpress.org/?v=2.9-rare</generator>
	<language>en</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
			<item>
		<title>Sleeping Bloggy</title>
		<link>http://girtby.net/archives/2009/08/03/sleeping-bloggy/</link>
		<comments>http://girtby.net/archives/2009/08/03/sleeping-bloggy/#comments</comments>
		<pubDate>Mon, 03 Aug 2009 12:53:30 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[amazon s3]]></category>
		<category><![CDATA[google app engine]]></category>
		<category><![CDATA[hosting]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3900</guid>
		<description><![CDATA[It should be apparent to prettymuch anyone who reads this blog that I have lost the impetus to publish regularly. Although I still have many things to say to the internet, it seems to be getting harder and harder to find the time to put these things in a blog form that I&#8217;m happy with.

But [...]]]></description>
			<content:encoded><![CDATA[<p>It should be apparent to prettymuch anyone who reads this blog that I have lost the impetus to publish regularly. Although I still have many things to say to the internet, it seems to be getting harder and harder to find the time to put these things in a blog form that I&#8217;m happy with.</p>

<p>But I&#8217;m also not happy with the concept of just abandoning the blog, as so many others seem to do. I like the idea of putting it into hibernation, where it still can be linked to and indexed in search engines, but just not active.</p>

<p>So I&#8217;ve been working out how to do that. It&#8217;s not as easy as I expected. And, yes, worth blogging about&#8230;</p>

<p><span id="more-3900"></span></p>

<h4>&#8220;Will I Dream, Dave?&#8221;</h4>

<p>I thought I wanted something quite straightforward. Basically I was going to convert the site into static HTML by walking over it with <code>wget</code> or similar. Then find a host who could serve it up cheaply and reliably.</p>

<p>The cheap part was a requirement but also an expectation. I just thought that someone somewhere would give me some hosting space for static files that would charge about the same as my domain renewal each year. I&#8217;m not interested in paying much more than that because, well. I might as well just keep paying the hosting plan I&#8217;m on now, and keep the blog open.</p>

<p>I also wanted the new hosting to have cool URIs that don&#8217;t change. So if, for example, you&#8217;ve bookmarked my insightful not-to-be-missed 2007 post on <a href="/archives/2007/04/22/it-sure-is-feisty/">fixing Ubuntu 7.04 display problems</a>, you&#8217;ll be happy to hear that I intended to make sure it serves you the same long-obsolete advice for many decades to come.</p>

<p>And that&#8217;s the real trick. As I found out, keeping the URIs the same, is not as easy as it sounds.</p>

<h4>wordpress.com</h4>

<p>This was the first thing I tried. wordpress.com offers free-to-inexpensive hosting and, hey, I&#8217;m already running wordpress, so it should be a snap to switch over. I&#8217;d just run the blog as-is with comments disabled and it would be just like in hibernation.</p>

<p>But then I read the fine print, and found that I wasn&#8217;t going to be able to keep my current theme with its <a href="/archives/2008/12/28/great-designers-steal-and-so-do-i/#comment-2268">famous</a> hand-tuned aside formatting. Not ideal, but not a show-stopper either. Also, importing the images and other assets would require involvement from wordpress support. Bit of a pain, but liveable.</p>

<p>So as an experiment I started exporting from my blog and then importing to wordpress.com. How well did this work? Well, about as well as you can expect with software that is not designed to <a href="/archives/2008/12/29/software-that-goes-clunk/">go clunk</a>. Of course, there is no error message to determine what the problem was, nor even an obvious way to erase all the partially-imported content.</p>

<h4>Amazon S3</h4>

<p>Having resolved by this stage that I was going to convert it to a static site and host it somewhere, I soon came upon the idea of using Amazon&#8217;s S3 service. I already had an account, and it looked like a great solution. Cheap, reliable and easy. (Pick any two.)</p>

<p>There are (at least) two problems with using Amazon S3 for this task.</p>

<p>Firstly there is a technical limitation with hosting a &#8220;naked&#8221; domain (ie girtby.net with no hostname). Basically the way you create a <a href="http://docs.amazonwebservices.com/AmazonS3/latest/VirtualHosting.html">virtual host on S3</a> is to create a &#8220;bucket&#8221; with the same name as your host, and then create a CNAME from your domain to that bucketname.s3.amazonaws.com. The problem is that you cannot create a CNAME on the root of a domain, it has to be from a hostname within that domain (eg www.girtby.net will work, girtby.net will not).</p>

<p>So that instantly breaks my URIs, but even if I could solve that problem there&#8217;s another limitation. Basically Amazon S3 is not a full hosting environment and doesn&#8217;t provide some common web server features. Most notably it won&#8217;t serve up / using /index.html.</p>

<p>So I would end up needing my own web server which would perform this redirection. But that defeats the purpose of using Amazon S3; if I had access to a reliable web server, I&#8217;d just use that to serve up the site and be done with it.</p>

<h4>Google App Engine</h4>

<p>Yes, I was quite amazed to discover that you can use Google&#8217;s App Engine as a host for an entirely static site. This is an interesting possibility because not only is it a real hosting service, and I can develop software (maybe even a blogging engine!) to bring my site back to life, should I be so inclined.</p>

<p>The plan is almost perfect, but has one flaw. Although Google seem to have once had the ability to host from a naked domain, that ability now seems to have been <a href="http://code.google.com/appengine/kb/general.html#naked_domain">revoked</a>. Which is a bit unfortunate, as it breaks my URIs.</p>

<p>So that&#8217;s really a problem, and one that I must admit I did not forsee when I started using the naked domain as the preferred domain for the blog.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/08/03/sleeping-bloggy/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Staging Wordpress With Bazaar</title>
		<link>http://girtby.net/archives/2009/02/24/staging-wordpress-with-bazaar/</link>
		<comments>http://girtby.net/archives/2009/02/24/staging-wordpress-with-bazaar/#comments</comments>
		<pubDate>Tue, 24 Feb 2009 11:03:18 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[bzr]]></category>
		<category><![CDATA[vcs]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3851</guid>
		<description><![CDATA[Version Control Systems, I&#8217;ve had a few. But then again, too few to mention.

Keen observers will have noted that I have tended to blog each time I try out a new version control system, and this really isn&#8217;t an exception. Except that, well I&#8217;m not just trying it out, I actually use Bazaar daily at [...]]]></description>
			<content:encoded><![CDATA[<p>Version Control Systems, I&#8217;ve had a few. But then again, too few to mention.</p>

<p>Keen observers will have noted that I have tended to blog each time I try out a new version control system, and this really isn&#8217;t an exception. Except that, well I&#8217;m not just trying it out, I actually use <a href="http://bazaar-vcs.org/">Bazaar</a> daily at <code>$WORK</code>, so and this is like after-hours practice.</p>

<p>Anyway, I wanted to share this because I&#8217;ve found that maintaining a staging and production installation of wordpress, complete with custom modifications and a collection of plugins, is a problem ideally solved by a distributed source control. Plus I really like Bazaar, and wanted to show how easy it can be.</p>

<p><span id="more-3851"></span></p>

<p>I refer to two different machines here, one of which is the production server (ie my hosting provider), and one of which is the staging server (ie my personal machine). Don&#8217;t let the fancy terminology put you off; mentally substitute &#8220;my box&#8221; and &#8220;their box&#8221; if it helps you.</p>

<h4>Setting up a Local Wordpress Instance</h4>

<p>On my staging server I branched the wordpress source from <a href="https://code.launchpad.net/wordpress">launchpad&#8217;s</a> Wordpress repository, which is regularly synced with the official repository:</p>

<pre><code>[s] $ bzr branch lp:wordpress
</code></pre>

<p>[I'll use an <code>[s]</code> to denote commands run on a staging server, and <code>[p]</code> for commands run on the production server.]</p>

<p>This command creates a "working tree" of the wordpress source code &mdash; a set of files and directories &mdash; and an accompanying repository of revisions. At any time the working tree corresponds to one of the revisions in the repository, plus any uncommitted changes. Each commit creates a new revision in the repository. Pretty standard stuff really.</p>

<p>So for a new wordpress installation I add the wp-config.php file and commit it:</p>

<pre><code>[s] $ bzr add wp-config.php
[s] $ bzr commit -m "Added config file"
</code></pre>

<p>See the <a href="http://codex.wordpress.org/MacOS_X_Local_Mirror">codex</a> for other local setup instructions, I just want to focus on the source control tool for now.</p>

<p>Unless you've used distributed version control systems before, you might be a bit wary at this point, perhaps wondering what happens when I next communicate with the upstream repository. But fear not, this is exactly the point of a DVCS. I've created an independent branch, and the parent branch doesn't even need to know about mine. So, I can quite happily make changes of my own and also merge in upstream changes, knowing that it is all tracked correctly.</p>

<p>But for now let's look at going the other way: publishing my changes to the world.</p>

<h4>Uploading to the Production Server</h4>

<p>One of the cool things about Bazaar is that it supports many different protocols for publishing branches. So for example, I can just push my branch to the hosting server using sftp:</p>

<pre><code>[s] $ bzr push sftp://girtby.net/home/alastair/wordpress
</code></pre>

<p>This will create a repository on the remote server containing all the revisions in my local repository. It will not, however, create an associated working tree. Bazaar does not (yet?) support updating a working tree over sftp. I guess there are too many potential issues with local conflicts and such. Anyway the solution is to ssh into the production box and do a checkout of the published branch:</p>

<pre><code>[p] $ cd ~/wordpress
[p] $ bzr co .
</code></pre>

<p>What's that? You don't have Bazaar installed on your hosting provider? No problem - all you need is python. Just extract Bazaar into your home directory somewhere, add the bin directory to your path, and you're away. You don't even need to compile anything.</p>

<p>Of course there are many other tasks to set up a production wordpress, but again let's just focus on getting a Bazaar branch associated with the source files.</p>

<h4>Another Way</h4>

<p>Of course you could bootstrap everything the other way around. Start with a working wordpress installation on your production server, create a bazaar repository for it, then copy <em>that</em> to your local machine. This would be something like:</p>

<pre><code>[p] $ cd ~/wordpress
[p] $ bzr init .
[p] $ bzr add .
[... bzr rm --keep or bzr ignore the files you don't want ...]
[p] $ bzr commit -m "initial checkin"
</code></pre>

<p>You would then branch it locally using:</p>

<pre><code>[s] $ bzr branch sftp://server/path/to/wordpress
</code></pre>

<h4>Staying in Sync</h4>

<p>At this point you have two Bazaar branches, and they can easily be kept in sync as follows. First let's make sure we're running the latest wordpress on our staging server:</p>

<pre><code>[s] $ bzr merge lp:wordpress
</code></pre>

<p>This just says to merge the latest changes from upstream. As always with merging there is the possibility of a conflict; you make a change that conflicts with the change on the merge source. In general Bazaar is very good at handling these, and anyway you're very unlikely to encounter them unless you're making modifications to the Wordpress core.</p>

<p>At this stage it's a great idea to test the installation locally. Hypothetically, if there were any <a href="/archives/2008/12/29/software-that-goes-clunk/">unit tests</a>, you'd run them at this point. Otherwise, you can just check that the articles display properly, the admin interface works, and whatever else.</p>

<p>You can even see a summary of the changes that you're merging:</p>

<pre><code>[s] $ bzr status -v
modified:
  wp-admin/admin-ajax.php
  wp-admin/custom-header.php
  [... snip ...]
pending merges:
  westi 2009-02-22 Focus on the first blank field when asking for credentials for upgrade/instal...
    ryan 2009-02-22 Allow editing all of a plugin's files. see #6732
    westi 2009-02-22 Wrap the apply_filters call in a function_exists check as this can be calle...
    [... snip ...]
</code></pre>

<p>If everything looks OK, commit and push it up to the production server.</p>

<pre><code>[s] $ bzr commit -m "merge from upstream"
[s] $ bzr push
</code></pre>

<p>It should have remembered the push location from last time. Also, just like last time the working tree will need to be updated:</p>

<pre><code>[p] $ bzr up
</code></pre>

<h4>Eject! Eject!</h4>

<p>So I've found wordpress trunk to be fairly stable, but should I ever need it, the DVCS provides a safety net.</p>

<p>If I discover a problem after merging in the latest upstream changes, I can quickly revert simply using the entirely surprising:</p>

<pre><code>[p] $ bzr revert
</code></pre>

<p>If, on the other hand I only discover the problem after pushing up to the production server, it's still quite easy:</p>

<pre><code>[p] $ bzr uncommit
[p] $ bzr update
</code></pre>

<p>I can propagate that change back to my staging server by merging <em>back</em>:</p>

<pre><code>[s] $ bzr merge sftp://girtby.net/home/alastair/wordpress
</code></pre>

<p>But like I said, I haven't had to use this.</p>

<h4>Synchronising Media</h4>

<p>Changes made on the production server are generally easy to sync back to the staging server - I just download a database dump and import it locally. However media such as images are special because they are not stored in the database. Hence you need a way of getting them back to the staging server. I wonder what the answer could be?</p>

<p>Yep, just commit the changes on the production server and merge them back:</p>

<pre><code>[p] $ bzr add assets/2009/01/funny_picture.jpg
[p] $ bzr commit -m "Added funny picture"

[s] $ bzr merge sftp://girtby.net/home/alastair/wordpress
</code></pre>

<p>As noted before, the add command can recursively add all files in a directory, so you don't even need to specify the files individually.</p>

<h4>Plugins/Themes</h4>

<p>Plugins and themes are handled just like any other change. Just extract the plugin to the relevant directory, and add it to the repository:</p>

<pre><code>[s] $ unzip ~/Downloads/coolplugin.zip
[s] $ bzr add coolplugin
</code></pre>

<p>At this point I'd probably activate and test the plugin locally, then commit and push to the production server as before.</p>

<p>Bazaar can also track file renames, deletions and moves, but you obviously have to tell it about them. So when coolplugin is updated, be sure to tell Bazaar about any relevant changes before committing:</p>

<pre><code>[s] $ bzr mv --after coolplugin/oldandbroken.php coolplugin/newhotness.php
</code></pre>

<p>The <code>--after</code> switch tells Bazaar not to actually do the move, instead it's already happened and we're just recording the fact.</p>

<h4>Why Not...</h4>

<p>... Wordpress auto-update? Put simply, I don't trust it. Will it let me manage my own patches to wordpress should they be <a href="/archives/2008/12/01/and-were-back/#comment-1946">needed</a>? I don't think so. Also: FTP? What decade is this? Even FTPS, sheesh.</p>

<p>... git? Well no reason particularly. I've dabbled with git, but it never really <em>clicked</em> for me. The concepts and terminology and command set still seem slightly obscure to me: "Want to check in your changes? Just use 'git albatross'! Want to view checkin comments from the most recent merge? No problem, 'git ham-sandwich' is at your fingertips!" OK, I exaggerate a little.</p>

<p>... just shut up already? Oh, OK then.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/02/24/staging-wordpress-with-bazaar/feed/</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>Monkeying With JavaScript</title>
		<link>http://girtby.net/archives/2009/01/07/monkeying-with-javascript/</link>
		<comments>http://girtby.net/archives/2009/01/07/monkeying-with-javascript/#comments</comments>
		<pubDate>Wed, 07 Jan 2009 11:31:12 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[javascript]]></category>
		<category><![CDATA[jquery]]></category>
		<category><![CDATA[prototype]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3674</guid>
		<description><![CDATA[It&#8217;s funny really, one of my main reasons for switching to a Rails-based blogging platform way back when was to become more familiar with web technologies. As it turned out I never really did much of that, but since switching back to Wordpress I&#8217;ve been tinkering away madly, and astute observers may have noticed the [...]]]></description>
			<content:encoded><![CDATA[<p>It&#8217;s funny really, one of my main reasons for switching to a Rails-based blogging platform way back when was to become more familiar with web technologies. As it turned out I never really did much of that, but since switching back to Wordpress I&#8217;ve been tinkering away madly, and astute observers may have noticed the results on this site.</p>

<p>Of course I have no real idea what I am doing. Despite having zero knowledge of PHP or JavaScript, for some reason I feel no reluctance towards sitting down at a keyboard and bashing away until I produce either Macbeth or a better website. The entire site is stored in a <a href="http://bazaar-vcs.org/">Bazaar</a> repository, and that makes reverting bad changes especially easy, and I&#8217;ll attempt to blog further about that sometime.</p>

<p>For now let me just point out a seemingly small change to the site. The dates of the posts and comments are now displayed in a more human-friendly manner such as &#8220;3 days ago&#8221; or &#8220;20 minutes later&#8221;. This was a feature of Typo that I liked enough to port to my Mephisto theme, and which (I thought) would be fairly simple to get into Wordpress.</p>

<p>It wasn&#8217;t. Read on for the war story.</p>

<p><span id="more-3674"></span></p>

<h4>The Prototype Version</h4>

<p><a href="http://www.dev411.com/blog/2007/02/05/displaying-dates-and-times-using-javascript">John Wang</a> describes how it is implemented in Typo. Basically it&#8217;s a bit of JavaScript that is run when the page loads. It looks for dates, which are delimited by the <code>abbr</code> tag and have a pre-defined CSS class. The script iterates over each of these and converts them into a friendly date. The <code>abbr</code> tag is handy because it allows you to specify the full date and time in the <code>title</code> attribute, which you can see when you hover over the date with your mouse.</p>

<p>One of the challenges with using JavaScript in this way is to ensure that you register event handlers in a manner that works with other JavaScript on the page, as well as across browsers. The <a href="http://www.prototypejs.org/">Prototype</a> library helps out immensely here, and for actually locating the <code>abbr</code> tags.</p>

<p>One of the nice features of Wordpress is that it manages dependencies on third-party JavaScript libraries, on behalf of the plugins. So as long as your plugin/theme uses the <a href="http://codex.wordpress.org/Function_Reference/wp_enqueue_script"><code>wp_enqueue_script</code></a> function, Wordpress will find a copy of the requested library and insert your script correctly into the HTML output. You call it simply from the theme&#8217;s <code>functions.php</code> file like this:</p>

<pre><code>add_action( 'wp_print_scripts', 'depo_theme_add_javascript' );

function depo_theme_add_javascript() {
    wp_enqueue_script('friendly_dates', get_bloginfo('stylesheet_directory') .
        '/javascript/friendly_dates.js', array('jquery'));
}
</code></pre>

<p>So at this point, I had the friendly date script originally from Typo, registered correctly with Wordpress and, it worked. Sort of. Specifically: when I had some of my Wordpress plugins disabled.</p>

<h4>Prototype vs jQuery</h4>

<p>Besides Prototype there are also other JavaScript libraries that people use, and they don&#8217;t always play nicely together. For example, <a href="http://jquery.com/">jQuery</a> is quite popular, and seems to be used by at least two of the wordpress plugins I have installed. Which meant that I could use my date script or the plugins, but not both.</p>

<p>Now jQuery (at least) is supposed to play nice with other libraries if you use the <a href="http://docs.jquery.com/Using_jQuery_with_Other_Libraries"><code>noConflict</code></a> method. Unfortunately I couldn&#8217;t get it to work. I even resorted to asking my first <a href="http://stackoverflow.com/questions/415550/prototype-and-jquery-peaceful-co-existence">question on Stack Overflow</a>. This seemed to stump the experts too; the best answer was basically &#8220;switch to jQuery&#8221;.</p>

<p>So that&#8217;s what I did.</p>

<h4>The jQuery Version</h4>

<p>jQuery is a quite unusual library. It reminds me a little bit of XSLT, in that you declare a pattern of matching items in the DOM tree, and for each of those, some actions which affect the output. You might even say the similarity is quite ironic, given that XSLT is the browser&#8217;s <a href="/archives/2006/06/14/the-browsers-other-scripting-language/">other scripting language</a>.</p>

<p>By chance I came across <a href="http://www.zachleat.com/web/2008/03/23/yet-another-pretty-date-javascript/">yet another pretty date JavaScript</a> from Zach Leatherman (but with ancestry tracing back to jQuery author John Resig). This allowed me to perform the article date transformations almost trivially:</p>

<pre><code>jQuery(document).ready(function() {
    jQuery("abbr.published").humane_dates();
});
</code></pre>

<p>Nice. But what about the comment dates? These require two dates, both the comment date but also the date of the article to which it belongs. The former is easy enough, but there was no easy DOM path from the comment to its article meta data. If it was XSLT I could have come up with an XPath expression, but jQuery is unfortunately not that powerful (yet?).</p>

<p>So I settled for a bit of a hack. For each comment, I inserted the article date as a hidden field in the HTML as a sibling to the date <code>abbr</code>, where it can be easily retrieved by a jQuery method.</p>

<p>It&#8217;s not an ideal solution of course, and part of me wants to (at least) put the article date in a local cache variable where it doesn&#8217;t need to looked up all the time. But another part of me just wants to get it working so that I can start the process of blogging about how I got it working&#8230;</p>

<h4>Publish and Be Damned</h4>

<p>Anyway <a href="/extras/friendly_dates.js">here&#8217;s the code</a>. I&#8217;ll find a better place for it if I make any other mods, or if there is any interest in it.</p>

<h4>Lessons Learned</h4>

<p>I&#8217;m not even sure there are many here. Perhaps:</p>

<ul>
<li>Don&#8217;t mix JavaScript libraries.</li>
<li>Learn jQuery. It&#8217;s powerful.</li>
<li>C++ is easy compared to diagnosing JavaScript bugs (ok maybe not)</li>
</ul>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2009/01/07/monkeying-with-javascript/feed/</wfw:commentRss>
		<slash:comments>10</slash:comments>
		</item>
		<item>
		<title>Software That Goes Clunk</title>
		<link>http://girtby.net/archives/2008/12/29/software-that-goes-clunk/</link>
		<comments>http://girtby.net/archives/2008/12/29/software-that-goes-clunk/#comments</comments>
		<pubDate>Mon, 29 Dec 2008 08:35:54 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[quality]]></category>
		<category><![CDATA[software]]></category>
		<category><![CDATA[unit testing]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3658</guid>
		<description><![CDATA[In the world of the manufactured consumer item, there has long been a tradition of techniques which convey an impression of underlying quality to the prospective purchaser. For example, it is never going to hurt sales if you display the words &#8220;Made in Germany&#8221; prominently on your item&#8217;s packaging. And I&#8217;ve heard that disproportionate engineering [...]]]></description>
			<content:encoded><![CDATA[<p>In the world of the manufactured consumer item, there has long been a tradition of techniques which convey an impression of underlying quality to the prospective purchaser. For example, it is never going to hurt sales if you display the words &#8220;Made in Germany&#8221; prominently on your item&#8217;s packaging. And I&#8217;ve heard that disproportionate engineering resources are typically expended on a car&#8217;s doors, in order to get just the right &#8220;clunk&#8221; to impress potential customers on the showroom floor.</p>

<p><span id="more-3658"></span>The point is that you, as a mere user of the widget, can&#8217;t easily inspect its inner workings to determine the quality of engineering and manufacture, and nor do you typically have the expertise to do so. So you need to rely on the information provided by the vendor. Perhaps it plays on national stereotypes, on technobabble (hello, cosmetics industry!), luxurious packaging (hello, Apple!), or many other techniques.</p>

<p>With software &mdash; particularly web-hosted software &mdash; it is not so easy. An astute observer will examine the interface of the software in question and look for consistency to established standards, prevalence of modes, and so forth. A lay observer will go on aesthetics, and probably not much more.</p>

<p>As the market for software becomes more and more sophisticated, what are the indicators going to be for quality? &#8220;<a href="http://www.joelonsoftware.com/items/2007/10/05.html">Designed in California</a>&#8220;? Or are lay people going to look for some more substantive indicators?</p>

<p>I don&#8217;t know but I know what I&#8217;d really <em>like</em> it to be. And I know what I&#8217;ll be looking more and more closely for, in future.</p>

<h4>Made With Unit Testing</h4>

<p>Once you&#8217;ve gotten the unit testing religion there really is no going back. It fundamentally changes &mdash; for the better &mdash; the way that you write software.</p>

<p>It can also make you a lot more intolerant towards regression bugs. That&#8217;s my excuse anyway for my recent <a href="/archives/2008/12/01/and-were-back/#comment-1946">dummy spit</a> over wordpress&#8217; broken comments feed. This is exactly the sort of problem that unit testing can catch. So why wasn&#8217;t it? And what assurances do I have that it wont happen again? I am not a wordpress developer, and I don&#8217;t care to be one either, but as a <em>user</em> I want to have better confidence in the software I use.</p>

<p>By the way, the fact that I was running an unreleased version of wordpress when I encountered the feed validation bug, is completely beside the point. Regularly run unit tests ensure that even when trunk is broken, it doesn&#8217;t remain so for very long. As it turned out, the problem that I encountered <a href="http://trac.wordpress.org/ticket/8626"><em>did</em></a> make it into the 2.7 release of wordpress, before being addressed. (Although, as far as I&#8217;m concerned, the bug <em>still</em> isn&#8217;t fixed, because there&#8217;s no unit test to prevent it reoccurring).</p>

<p>Even if you don&#8217;t know anything about unit testing, you should be able to factor it into a technology decision. Software package A is unit tested, and B isn&#8217;t. Which do you pick, if all else is equal?</p>

<h4>Other Types Of Testing?</h4>

<p>It might be argued that other forms of testing are an acceptable substitute for unit testing. To which I would say: bullshit. Or perhaps I might say &#8220;you are mistaken&#8221;, in a more professional forum. Unit tests are by definition automated, and hence a lot more foolproof. Automated testing at higher levels of abstraction is of course possible, but from experience it is far less effective. And manual testing is just not fun.</p>

<p>Alternatively, it might be argued that a more comprehensive indicator of quality throughout the development process is an ISO 9000 accreditation. To which I say: you&#8217;ve got to be fucking kidding me. (And let&#8217;s defer that discussion to another time).</p>

<p>As an experiment, pick your favourite piece of open source software. Go to the website and work out how to run the unit tests. Check out the latest source code from the repository and see if the unit tests run as advertised. If the unit tests are broken, or (worse) missing, maybe you should start looking elsewhere?</p>

<p>As another experiment, pick your favourite piece of closed source software (if you have one). Ask the vendor whether they have a unit test suite, and if so, what percentage of the code does it cover. Again, depending on the response, you might want to think about switching&#8230;</p>

<p>&#8230; to software that goes &#8220;clunk&#8221;.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2008/12/29/software-that-goes-clunk/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>Great Designers Steal, And So Do I</title>
		<link>http://girtby.net/archives/2008/12/28/great-designers-steal-and-so-do-i/</link>
		<comments>http://girtby.net/archives/2008/12/28/great-designers-steal-and-so-do-i/#comments</comments>
		<pubDate>Sat, 27 Dec 2008 22:44:50 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[css]]></category>
		<category><![CDATA[layout]]></category>
		<category><![CDATA[theme]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3654</guid>
		<description><![CDATA[Welcome to the new girtby.net site design. If you&#8217;re in an aggregator, please feel free to head on over to a browser and admire the countless hours of work that I&#8217;ve put into &#8230; stealing someone else&#8217;s site design.

For a while now I have been in awe of Khoi Vinh&#8217;s Subtraction blog, with its amazing [...]]]></description>
			<content:encoded><![CDATA[<p>Welcome to the new girtby.net site design. If you&#8217;re in an aggregator, please feel free to head on over to a browser and admire the countless hours of work that I&#8217;ve put into &#8230; stealing someone else&#8217;s site design.</p>

<p>For a while now I have been in awe of Khoi Vinh&#8217;s <a href="http://www.subtraction.com/">Subtraction</a> blog, with its amazing and minimal black-and-white design. Since first discovering it I had intended to shamelessly copy it, if ever I decided to redesign my own blog.</p>

<p>The original plan was to follow <a href="http://madbean.com/2008/sandbox-child-theme/">Matt&#8217;s recommendation</a> and customise the Sandbox wordpress theme into some reasonable facsimile of Khoi Vinh&#8217;s site, without being too noticeably similar. While casting around for other sites to steal CSS from, I came across a wordpress theme which looked to provide most of what I wanted, so I used that instead of Sandbox. Thanks to Derek Powazek for his <a href="http://powazek.com/posts/516">DePo Clean</a> theme.</p>

<p>My version of the theme has departed slightly (or perhaps radically, depending on your point of view) from the original. Instead of a 5-column fixed layout, I&#8217;ve gone with a mostly-fluid layout. Maybe it&#8217;s the coder in me, but it just feels <em>wrong</em> hard-coding magic pixel numbers into the stylesheet&#8230;</p>

<p>The fluid layout may turn out to be a mistake, and indeed I&#8217;m already concerned about the mismatch between the columns in the footer and those in the body. By the time you read this I may have already changed my mind, and reverted to a fixed-width layout.</p>

<p>One addition I am moderately proud of is the linkroll at the bottom, which is sourced directly from <a href="http://delicious.com/girtbynet">delicious</a> via javascript and styled to match the theme of the site.</p>

<p>For the most part everything has come together nicely but I&#8217;m afraid I would be lost without the assistance of the awesome <a href="http://macrabbit.com/cssedit/">CSSEdit</a>, which as you can see, enables a dilettante designer like me to butcher the creations of others with ease.</p>

<p>I have some further creative additions to the site planned, not to mention some actual content, as well. Happy 2009, folks.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2008/12/28/great-designers-steal-and-so-do-i/feed/</wfw:commentRss>
		<slash:comments>11</slash:comments>
		</item>
		<item>
		<title>Blog Migration Secrets</title>
		<link>http://girtby.net/archives/2008/12/08/blog-migration-secrets/</link>
		<comments>http://girtby.net/archives/2008/12/08/blog-migration-secrets/#comments</comments>
		<pubDate>Mon, 08 Dec 2008 12:26:07 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[mephisto]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://girtby.net/?p=3638</guid>
		<description><![CDATA[So given that the world (still) lacks a decent common export format for blog software, you might wonder how I managed to move the collection of assorted nonsense that is girtby.net from Mephisto to Wordpress.

Actually, there&#8217;s a real chance you might not wonder this. But let&#8217;s press on anyway for the sake of Google and [...]]]></description>
			<content:encoded><![CDATA[<p>So given that the world (<a href="/archives/2006/08/14/towards-a-common-blog-export-format/">still</a>) lacks a decent common export format for blog software, you might wonder how I managed to move the collection of assorted nonsense that is girtby.net from Mephisto to Wordpress.</p>

<p>Actually, there&#8217;s a real chance you might not wonder this. But let&#8217;s press on anyway for the sake of Google and future generations.</p>

<p>All the hard work was actually done by <del datetime="2008-12-08T19:02:50+00:00">Daniel</del> Dave Murphy over at <a href="http://schwuk.com/articles/2008/03/25/thy-will-be-done-m2wppy-is-released">schwuk.com</a> who published the script and a bzr branch. Jason Morrison added MySQL support and <a href="http://jayunit.net/2008/04/16/mephisto-to-wordpress/">published</a> a diff.</p>

<p>I&#8217;ve made some changes of my own and published the results. You can get either:</p>

<ul>
<li>Just the <a href="/code/m2wp/m2wp.py">latest m2wp.py script</a> incorporating Jason&#8217;s and my patches, or</li>
<li>A bzr <a href="/code/m2wp">branch</a>, continuing the spirit of being all modern and distributed.</li>
</ul>

<p>So what sort of changes did I have to make?</p>

<p>Well, Dave&#8217;s script extracted the rendered HTML into the Wordpress database. This is OK but it means you can&#8217;t go back and edit old posts in their source form (in my case, Markdown format). So to use my version of the script you need to set up your content filters in Wordpress to match those in Mephisto.</p>

<p>There are a couple of other minor changes, specifically handling NULL as well as empty content (for whatever reason I had some of these fields in my Mephisto database), and a minor formatting problem which prevented the &#8220;Read More&#8221; links from working properly.</p>

<p>Anyway that&#8217;s my version of the script, and now that that&#8217;s out of the way I can get back to procrastinating about doing anything with CSS.</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2008/12/08/blog-migration-secrets/feed/</wfw:commentRss>
		<slash:comments>4</slash:comments>
		</item>
		<item>
		<title>And We&#8217;re Back</title>
		<link>http://girtby.net/archives/2008/12/01/and-were-back/</link>
		<comments>http://girtby.net/archives/2008/12/01/and-were-back/#comments</comments>
		<pubDate>Mon, 01 Dec 2008 11:32:07 +0000</pubDate>
		<dc:creator>alastair</dc:creator>
				<category><![CDATA[Meta]]></category>
		<category><![CDATA[Nerd Factor X]]></category>
		<category><![CDATA[hosting]]></category>
		<category><![CDATA[mephisto]]></category>
		<category><![CDATA[rails]]></category>
		<category><![CDATA[wordpress]]></category>

		<guid isPermaLink="false">http://blog.girtby.info/?p=3614</guid>
		<description><![CDATA[So girtby.net has been a bit quiet lately. You might have assumed that $WORK or $LIFE had both gotten crazy busy. In fact they had, but that&#8217;s not the only reason why girtby.net was in stasis. There&#8217;s a story behind that, but the short version is that I&#8217;m back. Not quite the same as before, [...]]]></description>
			<content:encoded><![CDATA[<p>So girtby.net has been a bit quiet lately. You might have assumed that $WORK or $LIFE had both gotten crazy busy. In fact they had, but that&#8217;s not the only reason why girtby.net was in stasis. There&#8217;s a story behind that, but the short version is that I&#8217;m back. Not quite the same as before, but back.</p>

<p>Now, the long version.</p>

<p>The story starts about 6 weeks ago when my hosting provider kindly decided to upgrade the server I was hosted on. I had, and still have, a shared hosting account which means that they will do things like this from time to time. Most of the time it&#8217;s a good thing.</p>

<p>This time it was a bad thing.</p>

<p>Previously I was running my blogging software (Mephisto) on Rails 2.0.2 on Ruby 1.8.6 on CentOS 4.7. In the server migration, CentOS went to 5.2 and Ruby went to 1.8.7. Rails 2.0.2 doesn&#8217;t like Ruby 1.8.7.</p>

<p>During this time almost no one noticed that anything was awry at girtby.net, thanks to the fact that most of the site was being served directly out of the cache that Mephisto keeps/kept for performance reasons. Without any blogging software behind it, the site became a zombie. Minus the staggering gait and hunger for brains of course.</p>

<p>For the next couple of weeks in my copious spare time (which wasn&#8217;t much after $WORK and $LIFE) I was trying to get Mephisto to work with Rails 2.2 which <em>could</em> work with Ruby 1.8.7. It soon became apparent that I was about the only person on the internets that was actually trying to do such a thing. And, well, screw that.</p>

<p>So I caved. And after dallying with the Rails floozy for all this time, I went grovelling back to old faithful Wordpress. Fortunately she took me back&#8230;</p>

<p>In my ~2.5 year absence Wordpress has addressed few of the <a href="/archives/2006/08/12/on-switching-to-typo">gripes</a> that I had about it previously, but it still looks like the best blogging platform available (which includes the surrounding development ecosystem).</p>

<p>There is some more blogging software navel-gazing to come, but that&#8217;s enough for now.</p>

<p>Now if you&#8217;ll excuse me I have to get back to making this place look respectable&#8230;</p>
]]></content:encoded>
			<wfw:commentRss>http://girtby.net/archives/2008/12/01/and-were-back/feed/</wfw:commentRss>
		<slash:comments>13</slash:comments>
		</item>
	</channel>
</rss>
